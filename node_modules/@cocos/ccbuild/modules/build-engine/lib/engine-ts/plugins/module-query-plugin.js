"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.moduleQueryPlugin = void 0;
function moduleQueryPlugin(moduleQuery) {
  const resolvedMap = {};
  return {
    async resolve(source, importer) {
      const resolvedModule = await moduleQuery.resolveExport(source);
      if (resolvedModule) {
        return resolvedMap[source] = resolvedModule;
      }
    },
    transformId(source, importer) {
      if (resolvedMap[source]) {
        return resolvedMap[source];
      }
    }
  };
}
exports.moduleQueryPlugin = moduleQueryPlugin;