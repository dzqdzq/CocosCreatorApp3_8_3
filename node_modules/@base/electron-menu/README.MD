# Electron menu

electron 增强菜单

## Browser 浏览器进程接口

### add(path, [options])

- @param {String} path 一个菜单路径 "File/Save"
- @param {Object} options 添加的菜单的配置项目

添加一个菜单

```javascript
menu
    .add('文件/打开')
    .add('文件/新建', {
        order: 0,
        group: 'new',
        click () {},
    });
```

### remove(path)

- @param {String} path 菜单的路径

```javascript
menu.remove('文件/新建');
```

### get(path)

- @param {String} path 菜单的路径
- @return {Menu}

获取一个搜索路径下的菜单

### apply

应用修改

### setParseHandler(func)

- @param {Function} fn 解析函数

在 menu 解析过程中插入一个解析器，options 是 add 传入的参数。
在这个参数内，可以针对其他自定义参数进行转换，示例中，根据 message 字段动态省成了了发送消息的点击事件

```javascript
Menu.setParseHandler((options, template) => {
   if (options.message) {
       template.click = function () {
           ipc.sendToAll('options.message');
       };
   }
});
```

## Renderer 渲染进程

### popup(options)

- @param {Object} options 

弹出菜单，传入 x, y 相对与页面的位置。以及 menu 模版。
模版内的 click 会在点击后出发。
模版支持 separator 以及 submenu。

```javascript
menu.popup({
    x: event.pageX,
    y: event.pageY,
    menu: [
        {
            label: 'test',
            click () {
                vm.message = 'test';
            }
        }, {
            type: 'separator',
        }, {
            label: 'submenu',
            submenu: [
                {
                    label: 'test2',
                    click () {
                        vm.message = 'test2';
                    }
                }
            ]
        }
    ],
});
```
