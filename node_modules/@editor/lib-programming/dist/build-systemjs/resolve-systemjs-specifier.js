"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const prefix = 'systemjs-source';
const systemJsSourceRoot = path_1.default.dirname(require.resolve('@editor/systemjs-source/systemjs/src/system.js'));
const resolveSystemJsSpecifier = {
    name: 'resolve-systemjs-specifier',
    resolveId: (id) => {
        if (!id.startsWith(prefix)) {
            return null;
        }
        else {
            return require.resolve(path_1.default.join(systemJsSourceRoot, ...(id.substr(prefix.length)).split('/').filter((s) => s.length !== 0)));
        }
    },
};
exports.default = resolveSystemJsSpecifier;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZS1zeXN0ZW1qcy1zcGVjaWZpZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYnVpbGQtc3lzdGVtanMvcmVzb2x2ZS1zeXN0ZW1qcy1zcGVjaWZpZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxnREFBc0I7QUFFdEIsTUFBTSxNQUFNLEdBQUcsaUJBQWlCLENBQUM7QUFFakMsTUFBTSxrQkFBa0IsR0FBRyxjQUFFLENBQUMsT0FBTyxDQUNqQyxPQUFPLENBQUMsT0FBTyxDQUFDLGdEQUFnRCxDQUFDLENBQUMsQ0FBQztBQUV2RSxNQUFNLHdCQUF3QixHQUFrQjtJQUM1QyxJQUFJLEVBQUUsNEJBQTRCO0lBQ2xDLFNBQVMsRUFBRSxDQUFDLEVBQVUsRUFBRSxFQUFFO1FBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7YUFBTTtZQUNILE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxjQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUM3QyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoRjtJQUNMLENBQUM7Q0FDSixDQUFDO0FBRUYsa0JBQWUsd0JBQXdCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB0eXBlICogYXMgcm9sbHVwIGZyb20gJ3JvbGx1cCc7XG5pbXBvcnQgcHMgZnJvbSAncGF0aCc7XG5cbmNvbnN0IHByZWZpeCA9ICdzeXN0ZW1qcy1zb3VyY2UnO1xuXG5jb25zdCBzeXN0ZW1Kc1NvdXJjZVJvb3QgPSBwcy5kaXJuYW1lKFxuICAgIHJlcXVpcmUucmVzb2x2ZSgnQGVkaXRvci9zeXN0ZW1qcy1zb3VyY2Uvc3lzdGVtanMvc3JjL3N5c3RlbS5qcycpKTtcblxuY29uc3QgcmVzb2x2ZVN5c3RlbUpzU3BlY2lmaWVyOiByb2xsdXAuUGx1Z2luID0ge1xuICAgIG5hbWU6ICdyZXNvbHZlLXN5c3RlbWpzLXNwZWNpZmllcicsXG4gICAgcmVzb2x2ZUlkOiAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoIWlkLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWlyZS5yZXNvbHZlKHBzLmpvaW4oc3lzdGVtSnNTb3VyY2VSb290LFxuICAgICAgICAgICAgICAgIC4uLihpZC5zdWJzdHIocHJlZml4Lmxlbmd0aCkpLnNwbGl0KCcvJykuZmlsdGVyKChzKSA9PiBzLmxlbmd0aCAhPT0gMCkpKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCByZXNvbHZlU3lzdGVtSnNTcGVjaWZpZXI7XG4iXX0=