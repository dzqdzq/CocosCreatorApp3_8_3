"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function imports({ traverse }) {
    return {
        visitor: { Program: { exit: (path, state) => {
                    const result = [];
                    extract(traverse, path.node, result);
                    state.opts.imports.push(...new Set(result));
                } } },
    };
}
exports.default = imports;
function extract(traverse, node, result) {
    traverse(node, {
        ImportDeclaration: (p) => {
            result.push(p.node.source.value);
        },
        ExportNamedDeclaration: (p) => {
            if (p.node.source) {
                result.push(p.node.source.value);
            }
        },
        ExportAllDeclaration: (p) => {
            result.push(p.node.source.value);
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1Z2luLWltcG9ydHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYmFiZWwvcGx1Z2luLWltcG9ydHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSxTQUF3QixPQUFPLENBQUMsRUFBRSxRQUFRLEVBQWdCO0lBS3RELE9BQU87UUFDSCxPQUFPLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7b0JBQ3hDLE1BQU0sTUFBTSxHQUFhLEVBQUUsQ0FBQztvQkFDNUIsT0FBTyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUNyQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNoRCxDQUFDLEVBQUUsRUFBRTtLQUNSLENBQUM7QUFDTixDQUFDO0FBWkQsMEJBWUM7QUFFRCxTQUFTLE9BQU8sQ0FBQyxRQUErQixFQUFFLElBQXNCLEVBQUUsTUFBZ0I7SUFDdEYsUUFBUSxDQUFDLElBQUksRUFBRTtRQUNYLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxDQUFDO1FBQ0Qsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUMxQixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEM7UUFDTCxDQUFDO1FBQ0Qsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLENBQUM7S0FDSixDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgdHlwZSAqIGFzIGJhYmVsIGZyb20gJ0BiYWJlbC9jb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW1wb3J0cyh7IHRyYXZlcnNlIH06IHR5cGVvZiBiYWJlbCk6IGJhYmVsLlBsdWdpbk9iajx7XG4gICAgb3B0czoge1xuICAgICAgICBpbXBvcnRzOiBzdHJpbmdbXTtcbiAgICB9O1xufT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZpc2l0b3I6IHsgUHJvZ3JhbTogeyBleGl0OiAocGF0aCwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGV4dHJhY3QodHJhdmVyc2UsIHBhdGgubm9kZSwgcmVzdWx0KTtcbiAgICAgICAgICAgIHN0YXRlLm9wdHMuaW1wb3J0cy5wdXNoKC4uLm5ldyBTZXQocmVzdWx0KSk7XG4gICAgICAgIH0gfSB9LFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3QodHJhdmVyc2U6IHR5cGVvZiBiYWJlbC50cmF2ZXJzZSwgbm9kZTogYmFiZWwudHlwZXMuTm9kZSwgcmVzdWx0OiBzdHJpbmdbXSkge1xuICAgIHRyYXZlcnNlKG5vZGUsIHtcbiAgICAgICAgSW1wb3J0RGVjbGFyYXRpb246IChwKSA9PiB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwLm5vZGUuc291cmNlLnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgRXhwb3J0TmFtZWREZWNsYXJhdGlvbjogKHApID0+IHtcbiAgICAgICAgICAgIGlmIChwLm5vZGUuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocC5ub2RlLnNvdXJjZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIEV4cG9ydEFsbERlY2xhcmF0aW9uOiAocCkgPT4ge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocC5ub2RlLnNvdXJjZS52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4iXX0=