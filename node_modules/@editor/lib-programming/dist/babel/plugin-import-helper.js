"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const helper_module_imports_1 = require("@babel/helper-module-imports");
function importHelper({ helperModule, }) {
    return ({ types }) => {
        return {
            visitor: {},
            pre(state) {
                const cachedHelpers = {};
                state.set('helperGenerator', (name) => {
                    if (!state.availableHelper(name)) {
                        return null;
                    }
                    if (cachedHelpers[name]) {
                        return types.cloneNode(cachedHelpers[name]);
                    }
                    // @ts-ignore
                    const path = state.path;
                    return (cachedHelpers[name] = helper_module_imports_1.addNamed(path, name, helperModule));
                });
            },
        };
    };
}
exports.default = importHelper;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1Z2luLWltcG9ydC1oZWxwZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYmFiZWwvcGx1Z2luLWltcG9ydC1oZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx3RUFBd0Q7QUFFeEQsU0FBd0IsWUFBWSxDQUFDLEVBQ2pDLFlBQVksR0FHZjtJQUNHLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBZ0IsRUFNVCxFQUFFO1FBQ3BCLE9BQU87WUFDSCxPQUFPLEVBQUUsRUFBRTtZQUNYLEdBQUcsQ0FBQyxLQUFLO2dCQUNMLE1BQU0sYUFBYSxHQUFxQyxFQUFFLENBQUM7Z0JBQzNELEtBQUssQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtvQkFDcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2hDLE9BQU8sSUFBSSxDQUFDO3FCQUNiO29CQUVELElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFO3dCQUN2QixPQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7cUJBQzdDO29CQUVELGFBQWE7b0JBQ2IsTUFBTSxJQUFJLEdBQXFCLEtBQUssQ0FBQyxJQUFJLENBQUM7b0JBQzFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsZ0NBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQ3BFLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztTQUNKLENBQUM7SUFDTixDQUFDLENBQUE7QUFDTCxDQUFDO0FBaENELCtCQWdDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlICogYXMgYmFiZWwgZnJvbSAnQGJhYmVsL2NvcmUnO1xuaW1wb3J0IHsgYWRkTmFtZWQgfSBmcm9tICdAYmFiZWwvaGVscGVyLW1vZHVsZS1pbXBvcnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW1wb3J0SGVscGVyKHtcbiAgICBoZWxwZXJNb2R1bGUsXG59OiB7XG4gICAgaGVscGVyTW9kdWxlOiBzdHJpbmc7XG59KSB7XG4gICAgcmV0dXJuICh7IHR5cGVzIH06IHR5cGVvZiBiYWJlbCk6IGJhYmVsLlBsdWdpbk9iajx7XG4gICAgICAgIHNldChuYW1lOiAnaGVscGVyR2VuZXJhdG9yJywgY2FsbGJhY2s6IChuYW1lOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkO1xuICAgICAgICBhdmFpbGFibGVIZWxwZXIobmFtZTogc3RyaW5nKTogYm9vbGVhbjtcbiAgICAgICAgb3B0czoge1xuICAgICAgICAgICAgaW1wb3J0czogc3RyaW5nW107XG4gICAgICAgIH07XG4gICAgfSAmIGJhYmVsLlBsdWdpblBhc3M+ID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZpc2l0b3I6IHt9LFxuICAgICAgICAgICAgcHJlKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkSGVscGVyczogUmVjb3JkPHN0cmluZywgYmFiZWwudHlwZXMuTm9kZT4gPSB7fTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zZXQoJ2hlbHBlckdlbmVyYXRvcicsIChuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmF2YWlsYWJsZUhlbHBlcihuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRIZWxwZXJzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5jbG9uZU5vZGUoY2FjaGVkSGVscGVyc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICBjb25zdCBwYXRoOiBiYWJlbC50eXBlcy5Ob2RlID0gc3RhdGUucGF0aDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoY2FjaGVkSGVscGVyc1tuYW1lXSA9IGFkZE5hbWVkKHBhdGgsIG5hbWUsIGhlbHBlck1vZHVsZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59Il19