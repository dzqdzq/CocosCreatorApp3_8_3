{"version":3,"file":"bundled-helpers-plugin.js","sourceRoot":"","sources":["../src/bundled-helpers-plugin.ts"],"names":[],"mappings":";;;AACA,aAAa;AACb,wEAAwD;AAGxD,SAAgB,kBAAkB;IAK9B,OAAO;QACH,OAAO,EAAE,EAAE;QACX,GAAG,CAAC,IAAI;YACJ,MAAM,aAAa,GAA2C,EAAE,CAAC;YACjE,aAAa;YACb,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC,IAAY,EAAE,EAAE;gBACzC,aAAa;gBACb,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;oBAC7B,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE;oBACrB,OAAO,aAAa,CAAC,IAAI,CAAC,CAAC;iBAC9B;gBACD,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,IAAA,gCAAQ,EAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACzF,CAAC,CAAC,CAAC;QACP,CAAC;KACJ,CAAC;AACN,CAAC;AAtBD,gDAsBC","sourcesContent":["\n// @ts-ignore\nimport { addNamed } from '@babel/helper-module-imports';\nimport * as babel from '@babel/core';\n\nexport function importHelperPlugin(): babel.PluginObj<{\n    opts: {\n        helperModuleName: string;\n    },\n}> {\n    return {\n        visitor: {},\n        pre(file) {\n            const cachedHelpers: Record<string, babel.types.Identifier> = {};\n            // @ts-ignore\n            file.set('helperGenerator', (name: string) => {\n                // @ts-ignore\n                if (!file.availableHelper(name)) {\n                    return null;\n                }\n                if (cachedHelpers[name]) {\n                    return cachedHelpers[name];\n                }\n                return (cachedHelpers[name] = addNamed(file.path, name, this.opts.helperModuleName));\n            });\n        },\n    };\n}\n"]}