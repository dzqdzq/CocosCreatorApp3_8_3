"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const url_1 = __importDefault(require("url"));
const urijs_1 = __importDefault(require("urijs"));
function pathToFileURL(path) {
    return url_1.default.pathToFileURL(path).toString();
}
exports.pathToFileURL = pathToFileURL;
function fileURLToPath(url) {
    return url_1.default.fileURLToPath(url);
}
exports.fileURLToPath = fileURLToPath;
function urlRelative(from, to) {
    return new urijs_1.default(to).relativeTo(from).valueOf();
}
exports.urlRelative = urlRelative;
function urlResolve(from, to) {
    return new urijs_1.default(to).absoluteTo(from).valueOf();
}
exports.urlResolve = urlResolve;
function moduleSpecifierURLRelative(from, to) {
    // https://medialize.github.io/URI.js/docs.html#relativeto
    const toURI = new urijs_1.default(to);
    const relativeURI = toURI.relativeTo(from);
    const relativePath = relativeURI.path();
    if (relativeURI.valueOf() === relativePath && // Only path
        !relativePath.startsWith('..') &&
        !relativePath.startsWith('/')) {
        relativeURI.path(`./${relativePath}`);
    }
    return relativeURI.valueOf();
}
exports.moduleSpecifierURLRelative = moduleSpecifierURLRelative;
//# sourceMappingURL=path-url-interop.js.map