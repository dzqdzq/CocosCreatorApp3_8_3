"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeListener=exports.once=exports.on=exports.emit=exports.getSessionCode=exports.getUserToken=exports.logout=exports.login=exports.isLoggedIn=exports.getData=void 0;const{EventEmitter:EventEmitter}=require("events"),ipc=require("@base/electron-base-ipc"),EventManager=new EventEmitter;async function getData(){return new Promise((e,o)=>{ipc.send("cocos-user","getData",[]).callback((t,n)=>{if(t)return o(t);e(n)})})}async function isLoggedIn(){return new Promise((e,o)=>{ipc.send("cocos-user","isLoggedIn",[]).callback((t,n)=>{if(t)return o(t);e(n)})})}function login(e,o){return new Promise((t,n)=>{ipc.send("cocos-user","login",[e,o]).callback((e,o)=>{if(e)return n(e);t(o)})})}function logout(){return new Promise((e,o)=>{ipc.send("cocos-user","logout",[]).callback((t,n)=>{if(t)return o(t);e(n)})})}function getUserToken(){return new Promise((e,o)=>{ipc.send("cocos-user","getUserToken",[]).callback((t,n)=>{if(t)return o(t);e(n)})})}function getSessionCode(e){return new Promise((o,t)=>{ipc.send("cocos-user","getSessionCode",[e]).callback((e,n)=>{if(e)return t(e);o(n)})})}function emit(...e){EventManager.emit(...e)}function on(...e){EventManager.on(...e)}function once(...e){EventManager.once(...e)}function removeListener(...e){EventManager.removeListener(...e)}ipc.on("cocos-user-emit",(e,o,...t)=>{emit(o,...t)}),exports.getData=getData,exports.isLoggedIn=isLoggedIn,exports.login=login,exports.logout=logout,exports.getUserToken=getUserToken,exports.getSessionCode=getSessionCode,exports.emit=emit,exports.on=on,exports.once=once,exports.removeListener=removeListener;