# Editor dock

编辑器 docker 布局

## Renderer 渲染进程

注册 dock-frame 自定义 element。

### importStyle(file)

- @param {String} file 一个自定义的 css 文件

在 custom element 的 shadow root 内部注入一个自定义的样式文件


## dock-frame 自定义节点

在页面上使用 dock-frame

```html
<dock-frame id="dock"></dock-frame>
```

应用布局

```javascript
let $dock = document.getElementById('dock');
$dock.layout(json);
```

取出现有的布局

```javascript
let $dock = document.getElementById('dock');
let json = $dock.dump();
```

## layout 布局对象

- direction 布局方向，可以是 column 或者 row
- percent 该布局体积占用父布局内部的比例
- children 子布局，含有这个数据的对象不应该有 panels
- panels 该 layout 内显示多少个 panel
- active 当前活动的 panel
- min-width
- min-height

示例：

```json
{
    "version": 1,
    "layout": {
        "direction": "column",
        "children": [
            {
                "percent": 0.25,
                "min-height": 100,
                "active": "panel-03",
                "panels": [
                    "panel-01",
                    "panel-02",
                    "panel-03"
                ]
            }, {
                "percent": 0.25,
                "direction": "row",
                "children": [
                    {
                        "percent": 0.2,
                        "min-width": 100,
                        "min-height": 150,
                        "panels": [
                            "panel-04"
                        ]
                    }, {
                        "percent": 0.2,
                        "panels": [
                            "panel-05"
                        ]
                    }, {
                        "percent": 0.3,
                        "panels": [
                            "panel-06"
                        ]
                    }, {
                        "percent": 0.3,
                        "min-width": 200,
                        "direction": "column",
                        "children": [
                            {
                                "percent": 0.5,
                                "panels": [
                                    "panel-07"
                                ]
                            }, {
                                "percent": 0.5,
                                "panels": [
                                    "panel-08"
                                ]
                            }
                        ]
                    }
                ]
            }, {
                "percent": 0.5,
                "min-height": 100,
                "minimize": true,
                "panels": [
                    "panel-09",
                    "panel-10"
                ]
            }
        ]
    }
}
```

## 更新日志

1. 最小化参数记录到 layout 数据
2. 从最小化恢复的时候，默认恢复到之前的宽高
3. 最小化后的布局，不参与拖拽
4. 最小化和恢复的时候，都需要触发 resize 事件