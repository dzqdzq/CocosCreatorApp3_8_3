"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function s(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((a=a.apply(e,t||[])).next())})};function translationPath(e){return e.split("/").map(e=>{if(!e.startsWith("i18n:"))return e;const t=e.substr(5);return Editor.I18n.t(t)||t}).join("/")}function translationOption(e,t,n){const a={__path__:n&&n.__path__?`${n.__path__}/${(e.label||"").replace("/","%2F")}`:(e.label||"").replace("/","%2F")};if("label"in e&&void 0!==e.label&&(a.label=translationPath(e.label)),"type"in e&&void 0!==e.type&&(a.type=e.type),"sublabel"in e&&void 0!==e.sublabel&&(a.sublabel=translationPath(e.sublabel)),"visible"in e&&void 0!==e.visible&&(a.visible=e.visible),"checked"in e&&void 0!==e.checked&&(a.checked=e.checked),"enabled"in e&&void 0!==e.enabled&&(a.enabled=e.enabled),"icon"in e&&void 0!==e.icon&&(a.icon=e.icon),"order"in e&&void 0!==e.order&&(a.order=e.order),"group"in e&&void 0!==e.group&&(a.group=e.group),"accelerator"in e&&void 0!==e.accelerator&&(a.accelerator=e.accelerator),"submenu"in e&&Array.isArray(e.submenu)&&(a.submenu=[],e.submenu.forEach(e=>{a.submenu.push(translationOption(e,t,a))})),"message"in e){let t=e.message;"string"==typeof e.message&&e.target&&(t={target:e.target,name:e.message,params:e.params}),a.message=t}return"role"in e&&void 0!==e.role?a.role=e.role:a.click=function(){return __awaiter(this,void 0,void 0,function*(){return(!t||!t.click||!1!==(yield t.click(e,a)))&&((!e.click||!1!==(yield e.click(e)))&&(e.message&&Editor.Message.send(e.message.target,e.message.name,...e.message.params||[]),!1))})},a}function mergeOption(e,t){return{checked:e.checked||t.checked,enabled:e.enabled||t.enabled,order:e.order||t.order,group:e.group||t.group,label:t.label,icon:t.icon,role:t.role,sublabel:t.sublabel,visible:t.visible,type:t.type,submenu:t.submenu,accelerator:t.accelerator,message:t.message,click:t.click}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeOption=exports.translationOption=exports.translationPath=void 0,exports.translationPath=translationPath,exports.translationOption=translationOption,exports.mergeOption=mergeOption;