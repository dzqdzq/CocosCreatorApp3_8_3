module.exports = class Thumbnail
  id: 1036
  name: 'thumbnail'

  constructor: (@resource) ->
    @file = @resource.file

  parse: ->
     @format = @file.readString(4)
     @width = @file.readInt()
     @height = @file.readInt()
     @widthBytes = @file.readInt()
     @totalSize  = @file.readInt()
     @compressedSize  = @file.readInt()
     @bitsPerPixel = @file.readShort()
     @numberOfPlanes = @file.readShort()
     @jfif = @file.read(@compressedSize)

     binaryString = String.fromCharCode.apply(null, @jfif);
     @url = 'data:image/jpeg;base64,' + btoa(binaryString);
