"use strict";const Fs=require("fs"),Http=require("http"),Https=require("https"),Url=require("url"),Req=require("request");exports.getAsync=function(t,s,o){return new Promise((r,a)=>{var e={url:t};s&&(e.qs=s),o&&(e.headers=o),Req.get(e,(e,t,s)=>e?a(e):200!==t.statusCode?(t.resume(),a(t.statusMessage)):void r(s))})},exports.putAsync=function(t,s,o,n){return new Promise((r,a)=>{var e={url:t};s&&(e.qs=s),n&&(e.body=n),o&&(e.headers=o),Req.put(e,(e,t,s)=>e?a(e):200!==t.statusCode?(t.resume(),a(t.statusMessage)):void r(s))})},exports.uploadFile=function(t,s,o){return new Promise((r,a)=>{var e={url:t,headers:{accept:"application/json"}},e=Req.post(e,(e,t,s)=>e?a(e):200!==t.statusCode?(t.resume(),a(t.statusMessage)):void r(s)).form();e.append("file",Fs.createReadStream(s)),e.append("authCode",o),e.append("fileCount","1"),e.append("parseType","1")})},exports.postAsync=function(r,a){return new Promise((s,t)=>{var e=Url.parse(r),e={method:"POST",headers:{"Content-Type":"application/json"},host:e.host,path:e.path},e=(r.startsWith("http://")?Http:Https).request(e,e=>{let t="";e.on("end",()=>{s(t)}),e.on("data",e=>{t+=e})});e.on("error",e=>{t(e)}),e.write(a),e.end()})};