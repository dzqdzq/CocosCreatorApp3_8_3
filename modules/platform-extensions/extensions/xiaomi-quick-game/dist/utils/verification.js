"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOptions=exports.verificationFunc=exports.getVerifyFuncMap=void 0;const path_1=require("path"),fs_extra_1=require("fs-extra");function getVerifyFuncMap(){const e={};return["versionName","versionCode","minPlatformVersion","package","privatePemPath","certificatePemPath","icon"].forEach(t=>{e[t]=(e,r)=>verificationFunc(t,e,r)}),e}function verificationFunc(e,r,t){var i,o={error:"",newValue:r};switch(e){case"versionName":case"versionCode":r||(o.error=e+" "+Editor.I18n.t("xiaomi-quick-game.error.not_empty"),o.newValue=null);break;case"package":r?/^[a-zA-Z]+[0-9a-zA-Z_]*(\.[a-zA-Z]+[0-9a-zA-Z_]*)*$/.test(r)||(o.error=`Game package(${r})`+Editor.I18n.t("xiaomi-quick-game.project_name_not_legal"),o.newValue=null):(o.error=`Game package(${r}) `+Editor.I18n.t("xiaomi-quick-game.error.package_name_error"),o.newValue=null);break;case"privatePemPath":r?(i=Editor.UI.__protected__.File.resolveToRaw(r),".pem"===(0,path_1.extname)(i)&&(0,fs_extra_1.existsSync)(i)||(o.error=Editor.I18n.t("xiaomi-quick-game.error.private_pem_path_error"))):o.error=Editor.I18n.t("xiaomi-quick-game.options.private_pem_path_hint");break;case"certificatePemPath":r?(i=Editor.UI.__protected__.File.resolveToRaw(r),".pem"===(0,path_1.extname)(i)&&(0,fs_extra_1.existsSync)(i)||(o.error=Editor.I18n.t("xiaomi-quick-game.error.certificate_pem_path_error"))):o.error=Editor.I18n.t("xiaomi-quick-game.options.certificate_pem_path_hint");break;case"icon":"string"!=typeof r?o.error="Icon Path"+Editor.I18n.t("xiaomi-quick-game.error.icon_not_exist"):(0,fs_extra_1.existsSync)(Editor.UI.__protected__.File.resolveToRaw(r))||(o.error="Icon Path"+Editor.I18n.t("xiaomi-quick-game.error.icon_not_exist"))}return o}exports.getVerifyFuncMap=getVerifyFuncMap,exports.verificationFunc=verificationFunc,exports.defaultOptions={package:"com.xiaomi.cocos",icon:Editor.App.icon,versionName:Editor.App.version,versionCode:Editor.App.version,minPlatformVersion:"1056",deviceOrientation:"portrait",useDebugKey:!0,privatePemPath:"",certificatePemPath:"",logLevel:"log",encapsulation:!0};