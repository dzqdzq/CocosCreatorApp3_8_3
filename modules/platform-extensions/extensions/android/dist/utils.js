"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkProgramConfig=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path");function checkProgramConfig(r,e){let a="";switch(r){case"androidNDK":if(!e)return a;var o=(0,path_1.join)(e,"source.properties");if((0,fs_extra_1.existsSync)(o))try{var t=(0,fs_extra_1.readFileSync)(o,"utf8").match(/Pkg\.Revision\s*=\s*(.*)/),i=t?t[1]:null,n=i?i.split(".")[0]:null;n&&(parseInt(n)<21||23<parseInt(n))&&(a=Editor.I18n.t("android.program.androidNDKVersionErr",{version:n}))}catch(r){console.debug(r),a="i18n:android.program.androidNDKPathErr"}else a="i18n:android.program.androidNDKPathErr";break;case"androidSDK":if(!e)return a;o=(0,path_1.join)(e,"build-tools"),t=(0,path_1.join)(e,"platforms");try{var s=0===(0,fs_extra_1.readdirSync)(t).length;(0,fs_extra_1.existsSync)(o)&&(0,fs_extra_1.existsSync)(t)&&!s||(a="i18n:android.program.androidSDKPathErr")}catch(r){console.debug(r),a="i18n:android.program.androidSDKPathErr"}}return a}exports.checkProgramConfig=checkProgramConfig;