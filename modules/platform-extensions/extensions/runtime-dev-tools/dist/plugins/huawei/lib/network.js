"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.post=exports.get=exports.download=void 0;const https=require("https"),qs=require("querystring"),fs=require("fs-extra"),request=require("request"),progress=require("request-progress");function download(e,t,r,o){progress(request(e),{delay:200}).on("progress",function(e){r&&r(e.percent)}).on("error",function(e){o(e,!1)}).on("end",function(){o(null,!0)}).pipe(fs.createWriteStream(t))}function get(e){return new Promise((t,r)=>{https.get(e,e=>{e.on("data",e=>{t(e)})}).on("error",e=>{r(e)})})}function post(o,n,s,i){return new Promise((r,t)=>{var e={hostname:o,port:n,path:s,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},e=https.request(e,function(e){e.setEncoding("utf8");let t="";e.on("data",function(e){t+=e}),e.on("end",function(e){r(t)})});e.on("error",function(e){t(e),console.log("problem with request: "+e.message)}),e.write(qs.stringify(i)),e.end()})}exports.download=download,exports.get=get,exports.post=post;