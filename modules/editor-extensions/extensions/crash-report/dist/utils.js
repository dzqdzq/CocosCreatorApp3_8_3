"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createUIProp=exports.createSpan=exports.getLatestFilePath=exports.calcMd5=exports.getPackages=exports.getClientID=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path"),md5=require("md5"),getmac=require("getmac");async function getClientID(){return new Promise(t=>{try{return t(md5(getmac))}catch(e){console.error(e);var r=require("os").networkInterfaces();for(const s in r)if(s){var a=r[s];for(let e=0;e<a.length;++e){var n=a[e];if(!n.internal&&n.mac)return t(md5(n.mac))}}return t(md5("00:00:00:00:00:00"))}})}function getPackages(){return Editor.Package.getPackages().map(e=>{if(e.enable)return e.name+"-"+e.version}).filter(Boolean)}function calcMd5(e){var t=require("crypto")["createHash"],t=t("md5");return t.update(e),t.digest("hex")}function getLatestFilePath(t,r){return(0,fs_extra_1.readdirSync)(t).map(e=>{if(e.endsWith(r))return(0,path_1.join)(t,e)}).filter(Boolean).sort((e,t)=>{e=(0,fs_extra_1.statSync)(e);return(0,fs_extra_1.statSync)(t).mtimeMs-e.mtimeMs})[0]||""}function createSpan(e,t){return t||(t=document.createElement("span"),e.appendChild(t)),t}function createUIProp(e,t,r,a){var n,s;return a?a.setAttribute("value",t):((n=document.createElement("ui-prop")).setAttribute("class","left-width"),(s=document.createElement("ui-label")).setAttribute("slot","label"),s.setAttribute("style","color: #A3A3A3;"),(a=document.createElement("ui-label")).setAttribute("slot","content"),n.appendChild(s),n.appendChild(a),s.setAttribute("value",e),a.setAttribute("value",t),r.appendChild(n)),a}exports.getClientID=getClientID,exports.getPackages=getPackages,exports.calcMd5=calcMd5,exports.getLatestFilePath=getLatestFilePath,exports.createSpan=createSpan,exports.createUIProp=createUIProp;