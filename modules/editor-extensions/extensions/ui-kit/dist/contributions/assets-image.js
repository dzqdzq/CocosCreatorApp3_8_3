"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.element=void 0;class element extends HTMLElement{constructor(){super(),this._value=null,this.dbInfos={};this.attachShadow({mode:"open"});this.shadowRoot.innerHTML=`<style></style><div class="ui-assets-image-wrap">
                                        <ui-image class="image" hidden></ui-image>
                                        <ui-icon class="icon" hidden></ui-icon>
                                     </div>`,this.$uiImage=this.shadowRoot?.querySelector("ui-image"),this.$uiIcon=this.shadowRoot?.querySelector("ui-icon")}get value(){return this._value}set value(e){(this._value=e)&&this.setAttribute("value",e)}connectedCallback(){}disconnectedCallback(){}static get observedAttributes(){return["value"]}attributeChangedCallback(e,t,i){"value"===e&&i&&this.resolveValue(i)}async resolveValue(e){if(!e)return"";var t=(e=e.startsWith("db://")?await Editor.Message.request("asset-db","query-uuid",e):e).split("@").shift();if(Editor.Utils.UUID.isUUID(t)){t=await Editor.Message.request("asset-db","query-asset-info",e);if(!t)return"";["image","texture","sprite-frame","gltf-mesh"].includes(t.importer)?this._showImage(e):this._showIcon(e)}else this._showIcon(e)}_showIcon(e){this.$uiIcon.setAttribute("value",e),this.$uiIcon.removeAttribute("hidden"),this.$uiImage.setAttribute("hidden","")}_showImage(e){this.$uiImage.setAttribute("value",e),this.$uiImage.removeAttribute("hidden"),this.$uiIcon.setAttribute("hidden","")}}exports.element=element;