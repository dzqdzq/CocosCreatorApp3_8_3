"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const electron_1=require("electron"),fs=require("fs"),readJson=function(e){try{return JSON.parse(require("fs").readFileSync(e,"utf-8"))}catch(e){return{}}};function trAsync(r){return new Promise((n,e)=>{electron_1.ipcRenderer.once("_translate_finished",(e,r)=>{n(r)}),electron_1.ipcRenderer.sendToHost("_translate",r)})}global.hostAPI={storeVersion:readJson(__dirname+"/../../../package.json").version,sendToHost:(e,...r)=>electron_1.ipcRenderer.sendToHost(e,r),async selectFile(s={}){function i(e){var r=e.split("/").slice(-1)[0],e=fs.readFileSync(e);return new File([e],r)}return new Promise(async(n,t)=>{var e,r;electron_1.ipcRenderer.once("_selectFileFinished",(e,r)=>{r.canceled&&t(null),n(r.filePaths.map(i))}),electron_1.ipcRenderer.sendToHost("_selectFile",(r={},await((e=s)?(r.filters=e.filters,r.multi=e.multiSelections,r.title=e.title||await trAsync("extension.store.select_file"),JSON.stringify(r)):null)))})},jumpUrl:(e,r=!1)=>electron_1.ipcRenderer.sendToHost(`__${r?"cocos":"normal"}_jump`,e)};