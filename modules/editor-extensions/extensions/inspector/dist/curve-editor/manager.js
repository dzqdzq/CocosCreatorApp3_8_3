"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.update=exports.open=exports.drawCurve=exports.changeCurveState=exports.changeCurveData=void 0;let vm=null,cache=null,isOpened=!1,isLocking=!1;const drawHermite=require("./utils")["drawHermite"];function changeCurveData(e){vm&&vm.apply(e)}function changeCurveState(e){(isOpened=e)&&vm?Editor.Message.send("inspector","curve-keys",cache):(clear(),Editor.Panel.close("inspector.curve-editor"))}function drawCurve(e,r,t){drawHermite(e,r,t)}function open(e,r){cache=e,isLocking||(Editor.Panel.open("inspector.curve-editor",e),isLocking=!0),update(e,vm=r)}function update(e,r){vm=r,isOpened&&vm&&process.nextTick(()=>{Editor.Message.send("inspector","curve-keys",e),isLocking=!1})}function close(e){e===vm&&(Editor.Panel.close("inspector.curve-editor"),clear())}function clear(){vm=null,isOpened=!1,isLocking=!1,cache=null}exports.changeCurveData=changeCurveData,exports.changeCurveState=changeCurveState,exports.drawCurve=drawCurve,exports.open=open,exports.update=update,exports.close=close;