"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=void 0;let isStart=!1,isFinish=!1,isEnd=!1,currProgress=0,bakerSum=20,rate=0,logs=[];function initVal(){currProgress=0,bakerSum=20,rate=0}function changeProgress(s=null,e=!0){s||((currProgress+=10)>=bakerSum-10&&(bakerSum+=10),s=currProgress/bakerSum*100,e&&(s/=2)),rate=s}exports.methods={open(){Editor.Panel.open("light-probe")},start(){isStart=!0,isFinish=!1,isEnd=!1,initVal(),(logs=[]).push("Light probe baking started.")},cancel(){isFinish=!1,isEnd=!0,logs.push("Light probe baking canceled."),initVal()},log(s){logs.push(s+`
`),isFinish&&changeProgress(null,!1)},progress(s){logs.push(s+`
`),isFinish||changeProgress()},finished(){isFinish=!0,isEnd=!1,changeProgress(80)},end(){isEnd=!0,logs.push("Light probe baking finished."),changeProgress(100),Editor.Message.request("scene","light-probe-update-tetrahedron")},clear(){logs=["Clear Light probe baking result."],isStart=!1,isFinish=!1,isEnd=!1,initVal(),Editor.Message.request("scene","light-probe-update-tetrahedron")},unstaging(){return{rate:rate,logs:logs,isStart:isStart,isFinish:isFinish,isEnd:isEnd}}};