"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getConfig=exports.init=exports.detach=exports.attach=void 0;const pluginsGroup={};let started=!1;function attach(t){!t.info.contributions?.console?.extendConfig||0===t.info.contributions.console?.extendConfig.length||pluginsGroup[t.name]||(pluginsGroup[t.name]=t.info.contributions.console.extendConfig)}function detach(t){t.info.contributions?.console?.extendConfig&&0!==t.info.contributions.console?.extendConfig.length&&pluginsGroup[t.name]&&delete pluginsGroup[t.name]}function init(){started||(started=!0,Editor.Package.getPackages({enable:!0}).forEach(attach))}async function getConfig(){return(await Object.entries(pluginsGroup).reduce(async(t,[e,o])=>{t=await t;for(const s of o){var{value:n,show:i}=await Editor.Profile.getConfig(e,s.key,"global")??{};s.value=n??!1,s.show=i??!1,s.name=e}return t.push(...o),t},Promise.resolve([]))).filter(t=>t.show)}exports.attach=attach,exports.detach=detach,exports.init=init,exports.getConfig=getConfig;