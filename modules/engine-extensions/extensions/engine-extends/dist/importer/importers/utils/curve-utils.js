"use strict";function evaluateValueTangent(e,t,r,a,n,o,u,i,s){var c=o-t,e=(e-t)/c,l=1/3,a=a/c*l,i=1-i/c*l,c=r+n*l,n=u-s*l,s=[0,0,0],l=getParamFromCubicSolution(s,solveCubic(0-e,3*a,3*i-6*a,3*(a-i)+1,s),e);return{value:bezierInterp(r,c,n,u,l),tangent:{x:bezierTangent(t,a,i,o,l),y:bezierTangent(r,c,n,u,l)}}}function bezierInterp(e,t,r,a,n){var o=1-n;return o*o*o*e+3*o*o*n*t+3*o*n*n*r+n*n*n*a}function bezierTangent(e,t,r,a,n){var o=1-n;return 3*o*o*(t-e)+6*o*n*(r-t)+3*n*n*(a-r)}function getParamFromCubicSolution(t,r,e){let a=e;if(1===r)a=t[0];else{a=-1/0;for(let e=0;e<r;++e){var n=t[e];0<=n&&n<=1&&n>a&&(a=n)}a===-1/0&&(a=0)}return a}function solveCubic(e,t,r,a,n){var r=r/a,t=t/a,o=r*r,u=1/3*(-1/3*o+t),o=.5*(2/27*r*o-1/3*r*t+e/a),t=u*u*u,e=o*o+t;let i=0;if(isZero(e))return isZero(o)?(n[0]=0,1):(a=Math.cbrt(-o),n[0]=2*a,n[1]=-a,2);i=e<0?(a=1/3*Math.acos(-o/Math.sqrt(-t)),t=2*Math.sqrt(-u),n[0]=t*Math.cos(a),n[1]=-t*Math.cos(a+Math.PI/3),n[2]=-t*Math.cos(a-Math.PI/3),3):(u=Math.sqrt(e),t=Math.cbrt(u-o),a=-Math.cbrt(u+o),n[0]=t+a,1);var s=1/3*r;for(let e=0;e<i;++e)n[e]-=s;return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.solveCubic=exports.evaluateValueTangent=void 0,exports.evaluateValueTangent=evaluateValueTangent,exports.solveCubic=solveCubic;const EQN_EPS=1e-9;function isZero(e){return e>-EQN_EPS&&e<EQN_EPS}