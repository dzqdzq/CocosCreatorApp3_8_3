"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BufferImporter=void 0;const asset_db_1=require("@editor/asset-db"),path_1=require("path"),utils_1=require("../utils");class BufferImporter extends asset_db_1.Importer{get version(){return"1.0.3"}get name(){return"buffer"}get assetType(){return"cc.BufferAsset"}async import(e){var r=path_1.extname(e.source);await e.copyToLibrary(r,e.source);try{var t=new cc.BufferAsset,s=(t.name=e.basename||"",t._setRawAsset(".bin"),EditorExtends.serialize(t)),a=(await e.saveToLibrary(".json",s),utils_1.getDependUUIDList(s));return e.setData("depends",a),!0}catch(e){return console.error(e),!1}}}exports.BufferImporter=BufferImporter;