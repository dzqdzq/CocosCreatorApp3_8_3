"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextHandler=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path"),utils_1=require("../utils");exports.TextHandler={name:"text",assetType:"cc.TextAsset",async validate(e){return!await e.isDirectory()&&(".ts"!==e.extname||".d"===(0,path_1.extname)(e.basename))},importer:{version:"1.0.1",async import(e){var t=await(0,fs_extra_1.readFile)(e.source,"utf8"),a=new cc.TextAsset,t=(a.name=e.basename,a.text=t,EditorExtends.serialize(a)),a=(await e.saveToLibrary(".json",t),(0,utils_1.getDependUUIDList)(t));return e.setData("depends",a),!0}}},exports.default=exports.TextHandler;