"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.serializeForLibrary=void 0;const cc_1=require("cc"),serialization_1=require("cc/editor/serialization");function serializeForLibrary(e){let i=!1;var r={},e=(!0===isDirectInstanceOf(e,cc_1.AnimationClip)&&(i=!1,r._exporting=!1,r.dontStripDefault=!1,r.useCCON=!0),(i?EditorExtends.serializeCompiled:EditorExtends.serialize)(e,r));return e instanceof serialization_1.CCON?{data:(0,serialization_1.encodeCCONBinary)(e),extension:".cconb"}:{data:e,extension:".json"}}function isDirectInstanceOf(e,i){return e&&Object.getPrototypeOf(e)===i.prototype}exports.serializeForLibrary=serializeForLibrary;