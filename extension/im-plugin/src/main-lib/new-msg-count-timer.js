const _0x1d52=["__esModule","updateToolbar","getInstance","cleanUp","updateNewMsgCount","setUp","./service","instance","__importDefault","default","timer","defineProperty","../common-lib/update-toolbar"],_0x170c=(!function(e){for(var t=244;--t;)e.push(e.shift())}(_0x1d52),function(e,t){return e-=395,_0x1d52[e]}),_0xaf0de0=_0x170c;var __importDefault=this&&this[_0xaf0de0(407)]||function(e){return e&&e.__esModule?e:{default:e}};Object[_0xaf0de0(397)](exports,_0xaf0de0(399),{value:!0});const service_1=__importDefault(require(_0xaf0de0(405))),update_toolbar_1=require(_0xaf0de0(398));class NewMsgCountTimer{constructor(){var e=_0xaf0de0;this[e(396)]=null,this.updateNewMsgCount=this[e(403)].bind(this)}static[_0xaf0de0(401)](){var e=_0xaf0de0;return NewMsgCountTimer.instance||(NewMsgCountTimer.instance=new NewMsgCountTimer),NewMsgCountTimer[e(406)]}[_0xaf0de0(404)](){var e=_0xaf0de0;this.timer||(this[e(403)](),this[e(396)]=setInterval(this[e(403)],3e5))}[_0xaf0de0(402)](){var e=_0xaf0de0;this[e(396)]&&(clearInterval(this[e(396)]),this[e(396)]=null)}async[_0xaf0de0(403)](){var e=_0xaf0de0,t=await service_1.default[e(401)]();update_toolbar_1[e(400)]({newMsgCount:await t.getNewMsgCount()})}}(exports[_0xaf0de0(395)]=NewMsgCountTimer)[_0xaf0de0(406)]=null;