const _0xa0ba=["App","statusCode","join","__esModule","1026","path","defineProperty","info","postData","status","default","./node_modules","request","encodeParams","post","&fc81d0f39ca8157f9fb6324912aa2cf3573a5a41","push","assign","../common-lib/translate","info-title","session-expired","../common-lib/dialog","getLanguage","__importDefault","version","paths","ALL","md5"],_0x3359=(!function(e){for(var t=112;--t;)e.push(e.shift())}(_0xa0ba),function(e,t){return e-=263,_0xa0ba[e]}),_0x5c91c9=_0x3359;var __importDefault=this&&this[_0x5c91c9(287)]||function(e){var t=_0x5c91c9;return e&&e[t(267)]?e:{default:e}};Object[_0x5c91c9(270)](exports,_0x5c91c9(267),{value:!0}),exports[_0x5c91c9(272)]=exports[_0x5c91c9(277)]=void 0;const path_1=__importDefault(require(_0x5c91c9(269))),request_1=__importDefault(require(_0x5c91c9(276))),md5_1=(module[_0x5c91c9(289)][_0x5c91c9(280)](path_1[_0x5c91c9(274)][_0x5c91c9(266)](Editor.App[_0x5c91c9(269)],_0x5c91c9(275))),__importDefault(require(_0x5c91c9(263)))),query_string_1=__importDefault(require("query-string")),translate_1=require(_0x5c91c9(282)),dialog_1=require(_0x5c91c9(285));let sessionExpiredWarnShown=!1;function encodeParams(e){const t=_0x5c91c9,r=(e=e,o=_0x3359,s={plugin_id:o(268),lang:Editor.I18n[o(286)](),client_type:1,version:Editor[o(264)][o(288)],cc_version:Editor[o(264)][o(288)],cs_require:"3x"},Object[o(281)]({},e,s)),c=query_string_1[t(274)].stringify(r);var s,o;return r.sign=(o=c,e=t,md5_1[e(274)](o+e(279))),r}function postData(e,t){return new Promise((s,o)=>{const a=_0x3359;try{request_1[a(274)][a(278)]({url:e,json:!0,form:t,agentOptions:{ciphers:a(290)}},(e,t,r)=>{var c=a;e||200!==t[c(265)]?o(e?{err:e}:{res:t,body:r}):(r.status&&(0===r[c(273)]?sessionExpiredWarnShown=!1:406!==r[c(273)]||sessionExpiredWarnShown||(dialog_1[c(271)](translate_1.tr(c(284)),{title:translate_1.tr(c(283))}),sessionExpiredWarnShown=!0)),s(r))})}catch(e){o({err:e})}})}exports[_0x5c91c9(277)]=encodeParams,exports[_0x5c91c9(272)]=postData;