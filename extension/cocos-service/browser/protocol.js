"use strict";const _0x4edde9=_0x265b;function _0x54de(){const t=["cc_version","4jOAPlp","81406ldyfVT","cs_version","58757uCYntc","stringify","substr","1754958PdJItM","1832qrAZNF","parseParamter","436IFlWvU","getCreatorVersion","2904ZvnctI","7365316blYJxa","733026sGzyPX","11xUBgTa","defineProperty","1747722RhIALG","1028","session_token","../utils/editor","account/client_signin?session_id=","session/code","1156092qJfzkh","6104XLClZf","17297LSDMQn","lang","127.0.0.1","getUserData","objectSortByKey","service/lists","shift","session_id","find","10pLOEBf","170wQOzFg","../utils/http","202010SVdrth","15410fbyqXE","1560087QEAIRT","583olcroJ","paramEncode","cs_require","__importDefault","push","&0c234adac31fdec28ac45df0b1c42d532b06321c","https://creator-api.cocos.com/api/","catch","18QQedta","11112rOtZRB","getSessionToken","session/token","default","msg","__esModule","75qeAvqW","status","sign"];return(_0x54de=function(){return t})()}!function(){for(var t=_0x265b,e=_0x54de();;)try{if(179467==-parseInt(t(422))*(parseInt(t(423))/2)+-parseInt(t(377))/3+parseInt(t(373))/4*(-parseInt(t(401))/5)+-parseInt(t(380))/6+-parseInt(t(387))/7*(-parseInt(t(375))/8)+-parseInt(t(402))/9+-parseInt(t(400))/10*(-parseInt(t(403))/11))break;e.push(e.shift())}catch(t){e.push(e.shift())}}();const _0x530b40=_0x2cbc;function _0x156b(){const t=_0x265b,e=[t(424),t(398),t(383),t(415),t(414),t(418),t(378),"post",t(392),t(421),"13zvhiHC",t(405),t(385),t(410),t(379),"plugin_id",t(406),"then",t(412),t(369),t(413),t(411),t(404),t(396),t(370),t(425),t(409),t(397),t(381),t(372),"session_code",t(382),"&redirect_url=",t(384),"status","getLang",t(416),t(388),"110601rRJPxn",t(376),t(374),t(395),t(386),"apiPost",t(391),t(371),t(408),t(389),t(420),t(399),"is_refresh_token"];return(_0x156b=function(){return e})()}!function(){for(var e=_0x265b,t=_0x2cbc,s=_0x156b();;)try{if(358296==-parseInt(t(229))*(-parseInt(t(225))/2)+-parseInt(t(209))/3*(-parseInt(t(222))/4)+parseInt(t(231))/5*(-parseInt(t(228))/6)+-parseInt(t(190))/7*(-parseInt(t(198))/8)+-parseInt(t(191))/9*(-parseInt(t(205))/10)+-parseInt(t(210))/11*(-parseInt(t(195))/12)+parseInt(t(214))/13*(-parseInt(t(192))/14))break;s[e(407)](s[e(394)]())}catch(t){s[e(407)](s[e(394)]())}}();var __importDefault=this&&this[_0x530b40(220)]||function(t){return t&&t[_0x265b(417)]?t:{default:t}};function _0x2cbc(t,e){const s=_0x156b();return(_0x2cbc=function(t,e){return t-=183,s[t]})(t,e)}function _0x265b(t,e){const s=_0x54de();return(_0x265b=function(t,e){return t-=368,s[t]})(t,e)}Object[_0x530b40(218)](exports,_0x4edde9(417),{value:!0});const editor_1=__importDefault(require(_0x530b40(206))),http_1=__importDefault(require(_0x530b40(202))),domain=_0x530b40(230),not_require_token_urls=[_0x530b40(216),_0x530b40(208),_0x4edde9(393)];exports[_0x530b40(207)]={is_refresh_token:!1,session_token:"",parseParamter:function(t){var e=_0x4edde9,s=_0x530b40;let n=JSON.parse(JSON[e(368)](t));n[s(219)]=s(232),n.ip=e(390),n[s(200)]=editor_1[e(415)][s(188)](),n[s(204)]=editor_1[s(207)].getServiceVersion(),n[s(213)]=editor_1[s(207)][s(193)](),n[s(215)]="3x",n=http_1[e(415)][s(212)](n);t=http_1[s(207)][s(226)](n)+s(199);return n[s(201)]=require("md5")(t[s(223)](1)),n},apiPost:async function(a,t={}){const e=_0x530b40;return void 0===not_require_token_urls[e(227)](t=>t===a)&&(""===this[e(184)]&&await this[e(224)](),t[e(184)]=this[e(184)]),new Promise((n,r)=>{const i=e;http_1[i(207)][i(211)](domain+a,this[i(233)](t))[i(221)](async t=>{var e=_0x265b,s=i;0===t[s(187)]?n(t.data):406===t[s(187)]?(this[s(203)]=!0,await this[s(224)]()):(t[s(187)],r({status:t[e(419)],msg:t[s(189)],path:a}))})[i(217)](r)})},getSessionToken:async function(){var t=_0x530b40,e=await editor_1[t(207)][t(197)](),e=await this[t(196)](t(216),{session_id:e.session_id}),e=await this[t(196)](t(208),{session_code:e[t(183)]});this[t(184)]=e[t(184)]},getRedirectUrl:async function(t){var e=_0x530b40,s=await editor_1[e(207)][e(197)]();return domain+e(186)+s[e(194)]+e(185)+encodeURIComponent(t)}};