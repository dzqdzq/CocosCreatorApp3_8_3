"use strict";const _0x424943=_0x4111,_0x2c3c10=(!function(){for(var e=_0x4111,t=_0x78a1();;)try{if(648481==-parseInt(e(532))*(parseInt(e(548))/2)+-parseInt(e(490))/3*(parseInt(e(547))/4)+parseInt(e(491))/5+parseInt(e(509))/6+-parseInt(e(529))/7*(-parseInt(e(500))/8)+parseInt(e(510))/9+-parseInt(e(535))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),_0x3ae0),fs_extra_1=(function(){for(var t=_0x4111,e=_0x3ae0,r=_0x2d7a();;)try{if(168851==+parseInt(e(285))+parseInt(e(291))/2+parseInt(e(307))/3+parseInt(e(269))/4*(-parseInt(e(294))/5)+-parseInt(e(255))/6*(parseInt(e(276))/7)+-parseInt(e(267))/8*(parseInt(e(253))/9)+-parseInt(e(254))/10)break;r.push(r[t(502)]())}catch(e){r[t(517)](r[t(502)]())}}(),Object[_0x424943(539)](exports,_0x424943(536),{value:!0}),exports[_0x424943(540)]=exports[_0x2c3c10(298)]=exports[_0x424943(550)]=exports[_0x2c3c10(295)]=exports[_0x2c3c10(277)]=exports[_0x2c3c10(262)]=void 0,require(_0x2c3c10(296))),path_1=require(_0x2c3c10(278)),utils_1=require(_0x2c3c10(271)),common_1=require(_0x2c3c10(261));exports[_0x424943(544)]=!0;let buildCache=new Map;function compareService(e,t){var r=_0x2c3c10;return e[r(259)]===t[r(259)]?0:t[r(259)]?-1:1}let processServiceHooks=async(t,e,r)=>{const s=_0x424943,c=_0x2c3c10;try{if(!await utils_1[s(558)][c(290)]())return}catch(e){return void utils_1.csLogger[s(519)]("网络异常,您的服务将不会被集成,请检查后重试")}var i=t[c(305)][s(504)],o=(0,common_1[c(280)])(t);if(void 0!==i&&0!==i[s(514)][c(299)]){c(277)===r&&buildCache[s(542)]();for(const _ of i[s(514)].sort(compareService)){if(!(0,fs_extra_1[c(256)])(_[s(546)]))break;var a=(await utils_1[c(304)][c(252)]())[c(302)](e=>e[c(272)]===_[c(272)]),n=(buildCache[c(274)](_[c(303)])||buildCache[c(289)](_[s(541)],utils_1[c(249)].require(_[c(286)])),buildCache[c(279)](_[s(541)]));if(void 0===n)break;try{switch(r){case s(543):n[c(295)]&&await n[c(295)](t,e);break;case c(277):n[c(277)]&&await n[c(277)](t,e);break;case c(250):n[s(550)]&&await n[c(250)](t,e);break;case c(298):n[c(298)]&&await n[c(298)](t,e);break;case c(264):n[c(264)]&&await n.onAfterBuild(t,e),a&&processServiceIntegration(o,a,t)}}catch(e){throw a&&processServiceIntegration(o,a,t,(e instanceof Error?e[c(297)]:JSON[c(263)](e))||""),e}}}};async function onBeforeBuild(e,t){var r=_0x424943,s=_0x2c3c10;await(0,common_1[s(283)])(e)&&(await(0,common_1[s(273)])(e),await processServiceHooks(e,t,r(552)))}async function onAfterInit(e,t){var r=_0x2c3c10;await(0,common_1.checkCocosService)(e)&&await processServiceHooks(e,t,r(295))}async function onBeforeCompressSettings(e,t){var r=_0x424943,s=_0x2c3c10;await(0,common_1[s(283)])(e)&&await processServiceHooks(e,t,r(550))}function _0x2d7a(){const e=_0x424943,t=[e(518),e(495),"huaweiServiceIntegrationSuccess",e(551),e(554),"pUseType",e(513),e(544),"stringify",e(540),e(496),"readBindGame","189896AQFWih",e(558),e(516),"sdkhub$$",e(556),"service_id",e(521),"has",e(555),"14eoFjaS",e(552),e(520),e(512),e(524),e(549),e(531),e(553),e(503),e(499),e(546),e(538),e(523),"set",e(497),e(494),e(530),e(537),"29625APGlSR","onAfterInit",e(515),"message",e(508),e(534),e(498),e(527),e(545),e(541),"csConfig","packages",e(501),e(511),"getProjectPath",e(522),e(505),e(526),"onBeforeCompressSettings",e(525),e(533),e(493),e(507)];return(_0x2d7a=function(){return t})()}async function onAfterCompressSettings(e,t){var r=_0x2c3c10;await(0,common_1.checkCocosService)(e)&&((0,common_1[r(275)])(t),await processServiceHooks(e,t,r(298)))}function _0x3ae0(e,t){const r=_0x2d7a();return(_0x3ae0=function(e,t){return e-=248,r[e]})(e,t)}function _0x4111(e,t){const r=_0x78a1();return(_0x4111=function(e,t){return e-=490,r[e]})(e,t)}function _0x78a1(){const e=["readServiceList","length","10952010wGAuHT","__esModule","readJson","substr","defineProperty","onAfterBuild","service_component_name","clear","onAfterInit","throwError","find","builder","56xEcGns","1709430uLjfpG","getUserData","onBeforeCompressSettings","packageName","onBeforeBuild","checkCocosService","enable","processCommonNativeModule","../../utils","plugins","csEditor","57921hfeTCw","4909200kXlvdi","sdkHubConfig","36tzYYEe","473290KutEPW","existsSync","serviceIntegrationSuccess","isLogin","csAnalytics","194682DFgHdM","6584dLMkBN","csFile","shift","service-sdkhub","cocos-service","cocos_uid","settings/agconnect-services.json","3200300LUSDcx","onAfterCompressSettings","664800KWKPme","6273918prsUaM","934752QyAxXL","get","./common","services","fs-extra","40XdpzsU","push","299496VrkhxU","warn","path","updateConfigInfos","client","join","getPlatformID","huaweiServiceIntegrationFailed","csUtil","serviceIntegrationFailed","test","9177yaQiCo","Building Time","sdkhUbServiceIntegrationFailed","1qSHVsJ"];return(_0x78a1=function(){return e})()}async function onAfterBuild(e,t){var r=_0x424943,s=_0x2c3c10;await(0,common_1[s(283)])(e)&&await processServiceHooks(e,t,r(540))}async function processServiceIntegration(e,t,r,s){var c=_0x424943,i=_0x2c3c10;let o=(await utils_1[i(268)][i(281)]())[i(248)],a=await utils_1[i(304)][i(266)](),n="",_=(0,path_1[i(288)])(utils_1[i(268)][i(308)](),c(506)),u=(/^service-(agc|hms|sdkhub)/.test(t[i(303)])&&(0,fs_extra_1[i(256)])(_)&&(n=utils_1[i(306)][i(293)](_)[i(309)].app_id),"");if(c(503)===t[c(541)]){r=r[i(305)][c(504)][c(492)];if(r&&"{}"!==JSON.stringify(r))for(var p of r[c(557)])u+=","+p[i(258)]+":"+p[i(260)]}void 0===s?/^service-(agc|hms)/[c(528)](t[i(303)])?utils_1[i(300)][i(257)](o,a,t,e,n,"Building Time"):i(284)===t[i(303)]?utils_1[i(300)].sdkhUbServiceIntegrationSuccess(o,a,t,e,n,i(292),i(270)+u[i(287)](1)):utils_1[i(300)][i(265)](o,a,t,e,i(292)):/^service-(agc|hms)/[c(528)](t[i(303)])?utils_1[i(300)][i(251)](o,a,t,e,n,i(292),s):i(284)===t[i(303)]?utils_1[i(300)][i(282)](o,a,t,e,n,i(292),"sdkhub$$"+u[i(287)](1),s):utils_1[i(300)][i(301)](o,a,t,e,i(292),s)}exports[_0x424943(552)]=onBeforeBuild,exports[_0x2c3c10(295)]=onAfterInit,exports[_0x2c3c10(250)]=onBeforeCompressSettings,exports[_0x2c3c10(298)]=onAfterCompressSettings,exports[_0x2c3c10(264)]=onAfterBuild;