"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.watch=exports.data=exports.props=exports.template=void 0;const fs_1=require("fs"),path_1=require("path");function data(){return{type:"global"}}async function mounted(){this.refresh()}exports.template=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../static/settings/item.html"),"utf8"),exports.props=["item","tab","path"],exports.data=data,exports.watch={tab(){this.refresh()}},exports.methods={t(t){return t.startsWith("i18n:")?Editor.I18n.t(t.substr(5)):t},async refresh(){var t,e=this;e.tab&&(t=await Editor.Profile.getConfig(e.tab,e.path,"local"),e.type=null!=t?"local":"global")},popup(t,e,r){const a=this;a.tab&&Editor.Menu.popup({x:t,y:e,menu:[{label:Editor.I18n.t("preferences.menu.copyConfigKey"),click(){var t=`'${a.tab}', '${r}'`;Editor.Clipboard.write("text",t)}},{label:Editor.I18n.t("preferences.menu.copyTabKey"),click(){Editor.Clipboard.write("text",`'${a.tab}'`)}},{label:Editor.I18n.t("preferences.menu.move_local"),enabled:"global"===a.type,async click(){var t=await Editor.Profile.getConfig(a.tab,r);await Editor.Profile.setConfig(a.tab,r,t),a.refresh()}},{label:Editor.I18n.t("preferences.menu.move_global"),enabled:"local"===a.type,async click(){var t=await Editor.Profile.getConfig(a.tab,r,"local");await Editor.Profile.setConfig(a.tab,r,t,"global"),await Editor.Profile.removeConfig(a.tab,r,a.type),a.refresh()}}]})},getRenderText(){var t=this;return t.item.render.attributes=t.item.render.attributes||{},t.item.render.attributes.path=t.path,JSON.stringify(t.item.render)}},exports.mounted=mounted;