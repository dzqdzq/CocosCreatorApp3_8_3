"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.data=exports.computed=exports.watch=exports.props=exports.template=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path"),layout_counter_1=require("../layout-counter");function data(){return{pixels:0}}async function mounted(){await this.updateLength()}exports.template=(0,fs_extra_1.readFileSync)((0,path_1.join)(__dirname,"../../../../static/contributions/joint/components/layout.html"),"utf8"),exports.props=["content","index","blocks","size"],exports.watch={async"content.skeleton"(){await this.updateLength()},async"content.clips"(){await this.updateLength()}},exports.computed={},exports.data=data,exports.methods={removeSelf(){this.$emit("remove")},addClip(){this.content.clips.push("")},removeClip(t){this.content.clips.splice(t,1)},getPercent(t,e){t=t/e/e*100;return isNaN(t)?0:t.toFixed(2)},async updateLength(){var t=this,e=await layout_counter_1.jointTextureCounter.calcJointPixel(t.content);t.blocks.splice(t.index,1,{length:t.content.clips.length,pixels:e.pixel}),t.pixels=e.pixel}},exports.mounted=mounted;