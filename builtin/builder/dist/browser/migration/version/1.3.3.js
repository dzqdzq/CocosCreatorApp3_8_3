"use strict";function migrateLocal(a){const i=["mac","windows","ios","android","huawei-agc","ohos","openharmony"],o=["cocos-play","vivo-mini-game","oppo-mini-game","huawei-quick-game","xiaomi-quick-game"];function e(e){i.includes(e.platform)&&e.packages&&e.packages.native&&(!e.buildStageGroup&&e.packages.native.makeAfterBuild&&(e.buildStageGroup={build:["make"]}),delete e.packages.native.makeAfterBuild),o.includes(e.platform)&&(e.buildStageGroup||!1===e.packages[e.platform].makeAfterBuild||(e.buildStageGroup={build:["make"]}),delete e.packages[e.platform].makeAfterBuild),Object.keys(e.packages).forEach(a=>{e.packages[a].__version__="1.0.0"})}a.command?e(a.__buildTaskOptions__):a.BuildTaskManager&&a.BuildTaskManager.taskMap&&Object.values(a.BuildTaskManager.taskMap).forEach(a=>{e(a.options)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.migrateLocal=void 0,exports.migrateLocal=migrateLocal;