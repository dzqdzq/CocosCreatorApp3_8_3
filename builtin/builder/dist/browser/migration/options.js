"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.migratePkgOptions=exports.migrateOptions=void 0;const buildPackageJSON=require("./../../../package.json");async function migrateOptions(e,o){if(e&&(e.__version__&&await Editor.Profile.__protected__.migrateLocal("builder",e.__version__,{common:e,__buildTaskOptions__:e,command:o},buildPackageJSON.version),e.packages))for(const t of Object.keys(e.packages))await migratePkgOptions(e.packages[t],t,e,o)}async function migratePkgOptions(e,o,t,i){var a;e.__version__?(delete(a=Object.assign({},t)).packages,i={options:{[t.platform]:e},common:a,__buildTaskOptions__:t,command:i},await Editor.Profile.__protected__.migrateLocal(o,e.__version__,i),Object.assign(e,i.options[t.platform]),Object.assign(t,a)):console.warn(o+" 插件构建配置无版本号，将跳过数据迁移")}exports.migrateOptions=migrateOptions,exports.migratePkgOptions=migratePkgOptions;