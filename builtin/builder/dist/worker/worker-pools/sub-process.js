"use strict";const ps=require("path"),RawWarning=(process.on("uncaughtException",e=>{console.error(e)}),process.on("message",async function(e){"excute-script"===e.type&&process.send&&(e=await excuteScript(e.path,e.method,e.args),process.send({data:e instanceof Error?null:e,code:e instanceof Error?-1:0,type:"excute-script over"}))}),console.warn);async function excuteScript(e,r="handler",n=[]){try{return await require(e)[r](...n)}catch(e){return console.error(e),e}}console.warn=function(...e){try{"string"==typeof e[0]?e[0]="[warning]"+e[0]:e[0]&&e[0].name&&(e[0].name="[warning]"+e[0].name)}catch(e){console.debug(e)}RawWarning(...e)},console.log(`enter sub process ${process.pid}, `+process.argv);