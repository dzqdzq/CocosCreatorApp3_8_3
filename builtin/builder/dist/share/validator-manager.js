"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validatorManager=exports.validator=void 0;const validator_1=require("./validator");class ValidatorManager{constructor(){this.validators={},this.defaultValidator=new validator_1.Validator}addRule(a,r,t){let e=this.defaultValidator;t&&(this.validators[t]=this.validators[t]||new validator_1.Validator,e=this.validators[t]),e.add(a,r)}async check(a,r,t,e=""){if(Array.isArray(r))try{if(["",void 0,null].includes(a)&&!r.includes("required"))return"";for(const s of r){var i=this.validators[e]||this.defaultValidator;if(!i.has(s))return console.warn(`Rule ${s} is not exist.(pkgName: ${e})`),"";var o=await i.checkRuleWithMessage(s,a,t);if(o)return o}}catch(a){return a.message}return""}}exports.validator=new validator_1.Validator,exports.validatorManager=new ValidatorManager;