const packageJSON=require("../package.json"),JSZip=require("jszip"),{join,basename}=require("path"),{writeFileSync,readdirSync,statSync,readFileSync}=require("fs-extra"),skips=[".idea","unpack",".DS_Store",".git",".idea",".gitignore","src"];function step(e,n,i,a){if(i=i||basename(e),!skips.includes(i)){var r=statSync(e);if(r.isDirectory())for(const s of readdirSync(e))step(join(e,s),a?n:n.folder(i));else r.isFile()?n.file(i,readFileSync(e)):console.error(e+" was not added to zip!")}}function unpack(){var e=join(__dirname,"../../"+packageJSON.name);const n=join(e,`unpack/${packageJSON.name}.zip`);var i=new JSZip;step(e,i,packageJSON.name,!0),i.generateAsync({type:"nodebuffer",compression:"DEFLATE",compressionOptions:{level:9}}).then(e=>{writeFileSync(n,e)})}(async()=>{unpack()})();