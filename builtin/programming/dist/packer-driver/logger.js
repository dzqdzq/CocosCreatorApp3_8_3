"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackerDriverLogger=void 0;const winston_1=__importDefault(require("winston")),remote_1=require("@electron/remote"),remoteEditor=(0,remote_1.getGlobal)("Editor"),packerDriverLogTag="::PackerDriver::",packerDriverLogTagRegex=new RegExp(packerDriverLogTag),packerDriverLogTagHidden=`{hidden(${packerDriverLogTag})}`;class PackerDriverLogger{constructor(e){e=winston_1.default.createLogger({transports:[new winston_1.default.transports.File({level:"debug",filename:e,format:winston_1.default.format.combine(winston_1.default.format.timestamp({format:"HH:mm:ss"}),winston_1.default.format.printf(({level:e,message:r,timestamp:o})=>o+` ${e}: `+r))})]});this._fileLogger=e}debug(e){this._fileLogger.debug(e)}info(e){return this._fileLogger.info(e),console.info(packerDriverLogTagHidden,e),this}warn(e){return this._fileLogger.warn(e),console.warn(packerDriverLogTagHidden,e),this}error(e){return this._fileLogger.error(e),console.error(packerDriverLogTagHidden,e),this}clear(){console.debug("Clear logs..."),remoteEditor.Logger.clear(packerDriverLogTagRegex)}}exports.PackerDriverLogger=PackerDriverLogger;