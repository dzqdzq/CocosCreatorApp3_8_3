"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=require("events");class ComponentManager extends events_1.EventEmitter{constructor(){super(...arguments),this.allow=!1,this._menus=[],this._map={}}addMenu(e,t,s){this._menus.push({menuPath:t,component:e,priority:s=void 0===s?-1:s}),this.emit("add-menu",t)}removeMenu(t){for(let e=0;e<this._menus.length;e++){var s;this._menus[e].component===t&&(s=this._menus[e],this._menus.splice(e--,1),this.emit("delete-menu",s.menuPath))}}getMenus(){return this._menus}add(e,t){if(this.allow){this._map[e]=t;try{this.emit("add",e,t)}catch(e){console.error(e)}}}remove(e){if(this.allow&&this._map[e]){var t=this._map[e];delete this._map[e];try{this.emit("remove",e,t)}catch(e){console.error(e)}}}clear(){this.allow&&(this._map={})}getComponent(e){return this._map[e]||null}getComponents(){return this._map}changeUUID(e,t){var s;e!==t&&(s=this._map[e])&&(s._id=t,this._map[t]=s,delete this._map[e])}}exports.default=ComponentManager;