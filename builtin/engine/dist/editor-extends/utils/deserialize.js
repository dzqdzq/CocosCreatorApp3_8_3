"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deserializeFull=void 0;const cc_1=require("cc");async function deserializeFull(e){var i=new cc_1.deserialize.Details,e=(i.reset(),(0,cc_1.deserialize)(e,i)),r=i.uuidList;if(r){if(r.some(e=>"number"==typeof e))throw new Error("Don't know how to handle numeric UUID in "+r);const n={};await Promise.all(r.map(a=>new Promise((r,s)=>{cc_1.assetManager.loadAny(a,(e,i)=>{e?s(e):(n[a]=i,r())})}))),i.assignAssetsBy((e,i)=>{if(!(e in n))throw new Error(`Deserialized object is referencing ${e} which was not appeared in deserialize details.`);var r=n[e];if(r instanceof cc_1.Asset)return r;throw new Error(`Deserialized object is referencing ${e} which was appeared in deserialize details but isn't an asset.`)})}return e}exports.deserializeFull=deserializeFull;