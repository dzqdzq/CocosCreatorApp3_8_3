"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("editor/preload").init(),window.Editor=require("editor");const ipc_1=require("./ipc"),ipc_2=((0,ipc_1.ipcSend)("asset-worker:startup"),require("./ipc")),operation_1=require("./messages/operation"),query_1=require("./messages/query"),database_1=require("./messages/database"),allMessageMap=Object.assign(Object.assign(Object.assign({},database_1.MessageMap),query_1.MessageMap),operation_1.MessageMap);Object.keys(allMessageMap).forEach(a=>{(0,ipc_2.ipcAddListener)("asset-worker:"+a,async(...e)=>allMessageMap[a](...e))}),(0,ipc_2.ipcAddListener)("asset-worker:batch-message-handler",async(a,e=!1)=>{if(e)return Promise.all(a.map(e=>allMessageMap[e.name](...e.args)));var s=[];for(let e=0;e<a.length;e++){var r=a[e];s.push(await allMessageMap[r.name](...r.args))}return s});