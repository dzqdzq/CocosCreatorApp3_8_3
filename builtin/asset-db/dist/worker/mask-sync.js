"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assetDeleted=exports.assetDelete=exports.assetChanged=exports.assetChange=exports.assetAdded=exports.assetAdd=void 0;const data={wait:!1,percent:"0/0",execList:{}};function updateImportMaskImmediately(){let e="",t=0;for(const a in data.execList){if(5<=++t)break;e+=data.execList[a].url+"<br />"}Editor.Task.__protected__.updateSyncTask("import-asset",Editor.I18n.t("asset-db.mask.loading")+" "+data.percent,e)}function updateImportMask(){data.wait||(updateImportMaskImmediately(),data.wait=!0,setTimeout(()=>{data.wait=!1,updateImportMaskImmediately()},200))}function assetAdd(e){data.execList[e.uuid]=e,updateImportMask()}function assetAdded(e){var{current:t,total:a}=e._assetDB.assetProgressInfo;data.percent=t+"/"+a,delete data.execList[e.uuid],updateImportMask()}function assetChange(e){data.execList[e.uuid]=e,updateImportMask()}function assetChanged(e){var{current:t,total:a}=e._assetDB.assetProgressInfo;data.percent=t+"/"+a,delete data.execList[e.uuid],updateImportMask()}function assetDelete(e){data.execList[e.uuid]=e,updateImportMask()}function assetDeleted(e){var{current:t,total:a}=e._assetDB.assetProgressInfo;data.percent=t+"/"+a,delete data.execList[e.uuid],updateImportMask()}exports.assetAdd=assetAdd,exports.assetAdded=assetAdded,exports.assetChange=assetChange,exports.assetChanged=assetChanged,exports.assetDelete=assetDelete,exports.assetDeleted=assetDeleted;