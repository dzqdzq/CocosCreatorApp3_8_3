"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.importConfig=exports.exportConfig=exports.ready=exports.$=exports.template=exports.style=void 0;const fs_1=require("fs"),path_1=require("path"),program_1=require("./program"),Vue=require("vue/dist/vue.js"),vueTemplate=(Vue.config.productionTip=!1,(Vue.config.devtools=!1,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../static/template/index.html"),"utf8")),ProgramPreferenceVM=Vue.extend({name:"ProgramPreferenceVM",components:{program:program_1.ProgramComponent},data(){return{config:null}},async mounted(){var e=await Editor.Message.request("program","query-program-config");this.config=e},template:vueTemplate});async function ready(){var e,r=this;null!=(e=r.vm)&&e.$destroy(),r.vm=new ProgramPreferenceVM,r.vm.$mount(r.$.container)}async function exportConfig(){var r={},e=await Editor.Message.request("program","query-program-config");for(const t in e)if(e[t].properties)for(const n in e[t].properties){let e="global";var o=await Editor.Message.request("preferences","query-config",t,n,"local");null!=o&&(e="local"),r[t+"."+n]={type:e,value:await Editor.Message.request("preferences","query-config",t,n)||{}}}return r}async function importConfig(e){var r=await Editor.Message.request("program","query-program-config");for(const o in r)if(r[o].properties)for(const t in r[o].properties)e[o+"."+t]&&e[o+"."+t].value&&await Editor.Message.request("preferences","set-config",o,t,e[o+"."+t].value,e[o+"."+t].type)}function close(){var e;null!=(e=this.vm)&&e.$destroy(),this.vm=null}exports.style=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../dist/index.css"),"utf8"),exports.template='<div class="container"></div>',exports.$={container:".container"},exports.ready=ready,exports.exportConfig=exportConfig,exports.importConfig=importConfig,exports.close=close;