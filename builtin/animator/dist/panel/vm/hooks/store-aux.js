"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useAuxCurveStore=void 0;const vue_js_1=require("vue/dist/vue.js"),pinia_1=require("pinia"),animation_editor_1=require("../../share/animation-editor");exports.useAuxCurveStore=(0,pinia_1.defineStore)("animator_aux_curve",()=>{const a=(0,vue_js_1.ref)(!1),u=(0,vue_js_1.ref)([]),e=(0,vue_js_1.ref)(null),r=(0,vue_js_1.ref)("");var s=(0,vue_js_1.ref)();const l=(0,vue_js_1.ref)({});const t=(0,vue_js_1.ref)(null);var v=(0,vue_js_1.ref)({size:{w:0,h:0},height:0,top:0});const n=(0,vue_js_1.ref)([]);var i=(0,vue_js_1.computed)(()=>""==r.value?null:u.value.find(e=>e.displayName===r.value)??null),o=(0,vue_js_1.computed)(()=>{var e={};for(const a of u.value)e[a.displayName]=a;return e});return{reset:()=>{u.value=[],e.value=null,r.value="",n.value=[],t.value=null},enabled:a,updateEnableState:async()=>{var e=await Editor.Profile.getConfig("animator","enableAuxiliaryCurve")??!1;a.value=e},curves:u,calcCurves:(e,a)=>{if(e.length<1)u.value=[];else{for(const r of e)(0,animation_editor_1.calcFrames)(r.keyframes,a,!1);u.value=e}},selectedCurve:i,selectedCurveName:r,selectedFrameDump:s,selectedFrameDumpRenderKey:l,forceDumpUpdate:()=>{l.value={}},renaming:n,switchRename:(e,a)=>{var r=n.value,u=r.indexOf(e),s=-1<u;s||!1===a?s&&!0!==a&&r.splice(u,1):r.push(e)},copyKeyframeSnap:t,setCopyKeyframe:e=>{t.value=e},scrollInfo:v,selectKeyInfo:e,curveNameMap:o}});