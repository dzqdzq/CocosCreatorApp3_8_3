"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&("get"in s?t.__esModule:!s.writable&&!s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2pIpc=exports.b2sIpc=void 0;const ipc=__importStar(require("@base/electron-base-ipc")),events_1=require("events");class BrowserToSceneIpc extends events_1.EventEmitter{bind(){ipc.on("native-from-scene",(e,t,...r)=>{this.emit(t,...r)}),ipc.on("native-from-scene-preview",(e,t,...r)=>{this.emit(t,...r)})}unbind(){}sendToScene(e,...t){e={message:e,params:t};return ipc.sendToChannel("native-from-browser","native-scene",e)}async requestToScene(t,...n){return new Promise((r,e)=>{this.sendToScene(t,...n).callback((e,t)=>{r(e?null:t)})})}sendToPreview(e,...t){e={message:e,params:t};return ipc.sendToChannel("native-from-browser-preview","native-scene",e)}async requestToPreview(t,...n){return new Promise((r,e)=>{this.sendToPreview(t,...n).callback((e,t)=>{r(e?null:t)})})}}const b2sIpc=new BrowserToSceneIpc;exports.b2sIpc=b2sIpc;class BrowserToPanelIpc extends events_1.EventEmitter{send(e,...t){Editor.Message.send("scene","browser-panel",e,...t)}async request(e,...t){return Editor.Message.request("scene","browser-panel",e,...t)}}const b2pIpc=new BrowserToPanelIpc;exports.b2pIpc=b2pIpc;