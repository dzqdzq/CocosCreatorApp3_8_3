"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.$=exports.template=exports.listeners=void 0;const lodash_1=require("lodash"),tagName={select:"UI-SELECT",radio:"UI-RADIO-GROUP"};function updateContent(e,t,n){var o;let l=e.querySelector("[slot=content]");return null!=l&&l.tagName!==t&&null!=(o=l.parentElement)&&o.removeChild(l),null==l||l.tagName!==t?(o=n(!1),e.insertAdjacentHTML("beforeend",o),l=e.lastElementChild):l.innerHTML=n(!0),l}function renderSelect(e,t){var n,e=e.$this;let o="";if(t.enumList)for(const l of t.enumList)o+=`<option value="${l.value}">${(0,lodash_1.escape)(l.name)}</option>`;e=updateContent(e,tagName.select,e=>e?o:`<ui-select slot="content">${o}</ui-select>`);return e.value!==(null==(n=t.value)?void 0:n.toString())&&(e.value=null==(n=t.value)?void 0:n.toString()),e}function renderRadioGroup(e,t){var n,e=e.$this;let o="";if(t.enumList)for(const l of t.enumList)o+=`<ui-radio-button value="${l.value}">${(0,lodash_1.escape)(l.name)}</ui-radio-button>`;e=updateContent(e,tagName.radio,e=>e?o:`<ui-radio-group slot="content">
${o}</ui-radio-group>`);return e.innerHTML=o,e.value!==(null==(n=t.value)?void 0:n.toString())&&(e.value=null==(n=t.value)?void 0:n.toString()),e}function renderContent(e,t){return(!0===t.radioGroup?renderRadioGroup:renderSelect)(e,t)}function update(e){var t=this,n=(t._dump=e,t.$this.renderInfo.panel),o=t.$.label,o=(n.setLabel(e,o),renderContent(t,e));t.$.content!==o&&(t.$.content=o),n.setInvalid(e,o),n.setReadonly(e,o)}function ready(){}exports.listeners={change(e){const n=this;let o=e.target.value;isFinite(o)&&(o=+o),n._dump.value=o,"values"in n._dump&&n._dump.values.forEach((e,t)=>{n._dump.values[t]=o})}},exports.template=`
<ui-label slot="label"></ui-label>
<ui-select slot="content"></ui-select>
`,exports.$={label:"ui-label",content:'[slot="content"]'},exports.update=update,exports.ready=ready;