"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IPCChannel=exports.decodeArgs=exports.encodeArgs=exports.DataStorage=void 0;class DataStorage{constructor(){this._id=0,this._map={}}add(e){var n=this._id++;return this._map[n]=e,n}remove(e){delete this._map[e]}get(e){return void 0!==e&&this._map[e]||null}}function encodeArgs(e){return e instanceof Buffer||void 0===e||e instanceof Float32Array||e instanceof Float64Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint8Array||e instanceof Uint32Array?e:JSON.stringify(e)}function decodeArgs(e){return e instanceof Buffer||void 0===e||e instanceof Float32Array||e instanceof Float64Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8ClampedArray||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array?e:JSON.parse(e)}var IPCChannel;exports.DataStorage=DataStorage,exports.encodeArgs=encodeArgs,exports.decodeArgs=decodeArgs,function(e){e.PreviewSend="preview:send",e.PreviewReply="preview:reply",e.SceneWebSend="scene-web:send",e.SceneWebReply="scene-web:reply",e.NativeSend="native:send",e.NativeReply="native:reply"}(IPCChannel=exports.IPCChannel||(exports.IPCChannel={}));