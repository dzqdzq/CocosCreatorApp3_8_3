"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const path_1=__importDefault(require("path")),fs_1=__importDefault(require("fs"));async function nativeSceneAvailable(){var e=(await Editor.Message.request("engine","query-engine-info")).typescript.path,e=path_1.default.join(e,"bin/.editor"),e=path_1.default.join(e,"EngineAddon.node");return fs_1.default.existsSync(e)}class Env{constructor(){this._inited=!1,this._isNative=!1}async useNativeScene(e){return this._inited||(this._isNative=await Editor.Profile.getConfig("scene","scene.native-engine","global"),this._inited=!0),!!this._isNative&&(!1!==(null==e?void 0:e.checkAvailable)?nativeSceneAvailable():this._isNative)}}const EnvUtil=new Env;exports.default=EnvUtil;