"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NativeAdapter=exports.WebAdapter=void 0;const MaxScale=4,MinScale=.1;class DeviceAdapter{constructor(){this._screenWidth=1500,this._screenHeight=1e3,this._scale=1,this._enable=!1,this._engineWidth=0,this._engineHeight=0,this._offsetX=0,this._offsetY=0}get screenWidth(){return this._screenWidth}set screenWidth(e){this._screenWidth=e}get screenHeight(){return this._screenHeight}set screenHeight(e){this._screenHeight=e}get width(){return this._engineWidth}set width(e){this._engineWidth=e}get height(){return this._engineHeight}set height(e){this._engineHeight=e}get scale(){return this._scale}get enable(){return this._enable}set enable(e){this._enable=e}_limitScale(){this._scale>MaxScale?(console.warn("preview:the biggest scale is 400%"),this._engineWidth*=MaxScale/this._scale,this._engineHeight*=MaxScale/this._scale,this._scale=MaxScale):this._scale<MinScale&&(console.warn("preview:the smallest scale is 10%"),this._engineWidth*=MinScale/this._scale,this._engineHeight*=MinScale/this._scale,this._scale=MinScale)}fitScreen(e,t,i=!1,s=!1,h=1){var n,a,_,r;e/=window.devicePixelRatio,t/=window.devicePixelRatio,i?((i=this._screenWidth)/(_=this._screenHeight)<(r=(n=s?t:e)/(a=s?e:t))?(this._engineWidth=i,this._engineHeight=i/r,this._scale=this._engineWidth/n):(this._engineHeight=_,this._engineWidth=_*r,this._scale=this._engineHeight/a),this._limitScale()):(i=s?e:t,this._engineWidth=(s?t:e)*h,this._engineHeight=i*h,this._scale=h)}ratioToSize(e,t){var i=this._screenWidth,s=this._screenHeight,e=e/t;let h=0,n=0;return i/s<e?(h=i,n=i/e):(n=s,h=s*e),{width:h,height:n}}reset(e,t){this._engineHeight=t,this._engineWidth=e,this._screenHeight=t,this._screenWidth=e,this._scale=1,this._offsetX=0,this._offsetY=0}get offsetX(){return this._enable?this._offsetX:0}set offsetX(e){this._enable&&(this._offsetX=e)}get offsetY(){return this._enable?this._offsetY:0}set offsetY(e){this._enable&&(this._offsetY=e)}}const WebAdapter=new DeviceAdapter,NativeAdapter=(exports.WebAdapter=WebAdapter,new DeviceAdapter);exports.NativeAdapter=NativeAdapter;