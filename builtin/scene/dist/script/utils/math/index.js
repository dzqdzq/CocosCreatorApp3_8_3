"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vec2_1=require("./vec2"),vec3_1=require("./vec3"),mat3_1=require("./mat3"),mat4_1=require("./mat4"),quat_1=require("./quat"),_d2r=Math.PI/180,_r2d=180/Math.PI,PI=Math.PI,TWO_PI=2*Math.PI,HALF_PI=.5*Math.PI,EPSILON=1e-12,MACHINE_EPSILON=112e-18,sqrt=Math.sqrt,pow=Math.pow,cos=Math.cos,acos=Math.acos,max=Math.max;class EditorMath{static deg2rad(t){return t*_d2r}static rad2deg(t){return t*_r2d}static rad180(t){return t=t>Math.PI||t<-Math.PI?(t+EditorMath.TWO_PI)%EditorMath.TWO_PI:t}static rad360(t){return t>EditorMath.TWO_PI?t%EditorMath.TWO_PI:t<0?EditorMath.TWO_PI+t%EditorMath.TWO_PI:t}static deg180(t){return t=180<t||t<-180?(t+360)%360:t}static deg360(t){return 360<t?t%360:t<0?360+t%360:t}static randomRange(t,a){return Math.random()*(a-t)+t}static randomRangeInt(t,a){return Math.floor(this.randomRange(t,a))}static clamp01(t){return t<0?0:1<t?1:t}static calculateMaxRect(t,a,r,e,c){var i=Math.min(a.x,r.x,e.x,c.x),M=Math.max(a.x,r.x,e.x,c.x),o=Math.min(a.y,r.y,e.y,c.y),a=Math.max(a.y,r.y,e.y,c.y);return t.x=i,t.y=o,t.width=M-i,t.height=a-o,t}static lerp(t,a,r){return t+(a-t)*r}static numOfDecimals(t){return this.clamp(Math.floor(Math.log10(t)),0,20)}static numOfDecimalsF(t){return this.clamp(-Math.floor(Math.log10(t)),0,20)}static toPrecision(t,a){return a=this.clamp(a,0,20),parseFloat(t.toFixed(a))}static bezier(t,a,r,e,c){var i=1-c;return t*i*i*i+3*a*i*i*c+3*r*i*c*c+e*c*c*c}static solveCubicBezier(t,a,r,e,c){e-=t;return _cardano(+(c=(c-t)/e),c-(a-t)/e,c-(r-t)/e,c-1)}}function _clamp(t,a,r){return t<a?a:r<t?r:t}function _crt(t){return t<0?-pow(-t,1/3):pow(t,1/3)}function _cardano(t,a,r,e){var e=3*a-t-3*r+e,r=(3*t-6*a+3*r)/e,a=(-3*t+3*a)/e,c=(3*a-r*r)/3,i=c/3,a=(2*r*r*r-9*r*a+27*(t/e))/27,t=a/2,e=t*t+i*i*i;let M,o,h,d,s;return e<0?(c=(i=-c/3)*i*i,c=(a=-a/(2*(i=sqrt(c))))<-1?-1:1<a?1:a,a=acos(c),c=2*_crt(i),h=c*cos(a/3)-r/3,d=c*cos((a+2*PI)/3)-r/3,s=c*cos((a+4*PI)/3)-r/3,0<=h&&h<=1?0<=d&&d<=1?0<=s&&s<=1?max(h,d,s):max(h,d):0<=s&&s<=1?max(h,s):h:0<=d&&d<=1?0<=s&&s<=1?max(d,s):d:s):0==e?(M=t<0?_crt(-t):-_crt(t),h=2*M-r/3,d=-M-r/3,0<=h&&h<=1?0<=d&&d<=1?max(h,d):h:d):(i=sqrt(e),M=_crt(i-t),o=_crt(i+t),h=M-o-r/3)}EditorMath.EPSILON=EPSILON,EditorMath.MACHINE_EPSILON=MACHINE_EPSILON,EditorMath.TWO_PI=TWO_PI,EditorMath.HALF_PI=HALF_PI,EditorMath.D2R=_d2r,EditorMath.R2D=_r2d,EditorMath.MVec2=vec2_1.MVec2,EditorMath.MVec3=vec3_1.MVec3,EditorMath.MMat3=mat3_1.MMat3,EditorMath.MMat4=mat4_1.MMat4,EditorMath.MQuat=quat_1.MQuat,EditorMath.clamp=_clamp,exports.default=EditorMath;