"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const cc_1=require("cc"),vec3_1=require("./math/vec3"),_v3_tmp=new cc_1.Vec3,_v3_tmp2=new cc_1.Vec3,_v3_tmp3=new cc_1.Vec3,_v3_tmp4=new cc_1.Vec3,_m3_tmp=new cc_1.Mat3,transform_extent_m4=(t,e,c)=>{_m3_tmp.m00=Math.abs(c.m00),_m3_tmp.m01=Math.abs(c.m01),_m3_tmp.m02=Math.abs(c.m02),_m3_tmp.m03=Math.abs(c.m04),_m3_tmp.m04=Math.abs(c.m05),_m3_tmp.m05=Math.abs(c.m06),_m3_tmp.m06=Math.abs(c.m08),_m3_tmp.m07=Math.abs(c.m09),_m3_tmp.m08=Math.abs(c.m10),vec3_1.MVec3.transformMat3(t,e,_m3_tmp)};class aabb{static create(t,e,c,_,a,m){return new aabb(t,e,c,_,a,m)}static clone(t){return new aabb(t.center.x,t.center.y,t.center.z,t.halfExtents.x,t.halfExtents.y,t.halfExtents.z)}static copy(t,e){return vec3_1.MVec3.copy(t.center,e.center),vec3_1.MVec3.copy(t.halfExtents,e.halfExtents),t}static fromPoints(t,e,c){return vec3_1.MVec3.multiplyScalar(t.center,vec3_1.MVec3.add(_v3_tmp,e,c),.5),vec3_1.MVec3.multiplyScalar(t.halfExtents,vec3_1.MVec3.subtract(_v3_tmp2,c,e),.5),t}static set(t,e,c,_,a,m,n){return vec3_1.MVec3.set(t.center,e,c,_),vec3_1.MVec3.set(t.halfExtents,a,m,n),t}static merge(t,e,c){return vec3_1.MVec3.subtract(_v3_tmp,e.center,e.halfExtents),vec3_1.MVec3.subtract(_v3_tmp2,c.center,c.halfExtents),vec3_1.MVec3.add(_v3_tmp3,e.center,e.halfExtents),vec3_1.MVec3.add(_v3_tmp4,c.center,c.halfExtents),vec3_1.MVec3.max(_v3_tmp4,_v3_tmp3,_v3_tmp4),vec3_1.MVec3.min(_v3_tmp3,_v3_tmp,_v3_tmp2),aabb.fromPoints(t,_v3_tmp3,_v3_tmp4)}static transform(t,e,c){return vec3_1.MVec3.transformMat4(t.center,e.center,c),transform_extent_m4(t.halfExtents,e.halfExtents,c),t}constructor(t=0,e=0,c=0,_=1,a=1,m=1){this.center=new cc_1.Vec3(t,e,c),this.halfExtents=new cc_1.Vec3(_,a,m)}getBoundary(t,e){vec3_1.MVec3.subtract(t,this.center,this.halfExtents),vec3_1.MVec3.add(e,this.center,this.halfExtents)}transform(t,e,c,_,a){vec3_1.MVec3.transformMat4(a.center,this.center,t),transform_extent_m4(a.halfExtents,this.halfExtents,t)}clone(){return aabb.clone(this)}copy(t){return aabb.copy(this,t)}}exports.default=aabb;