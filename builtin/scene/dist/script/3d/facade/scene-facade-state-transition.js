"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToPreviewTransition=exports.ToPrefabTransition=exports.ToGeneralTransition=exports.ToAnimationTransition=void 0;const scene_facade_state_interface_1=require("./scene-facade-state-interface"),transition_1=require("../utils/state-machine/transition");class ToAnimationTransition extends transition_1.Transition{constructor(e,t,n=null){super(e,t,n)}async testCondition(){return this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.General||this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.Prefab||this.fromState.setCloseSceneWhenExit(),!0}async Complete(){super.Complete(),this.fromState.modeName!==scene_facade_state_interface_1.SceneModeType.General&&this.fromState.modeName!==scene_facade_state_interface_1.SceneModeType.Prefab||(this.fromState.isHold=!0,await this.fromState.stagingSceneState())}}exports.ToAnimationTransition=ToAnimationTransition;class ToGeneralTransition extends transition_1.Transition{constructor(e,t,n=null){super(e,t,n)}async testCondition(){return!!await this.fromState.checkToClose()&&(this.fromState.setCloseSceneWhenExit(),!0)}}exports.ToGeneralTransition=ToGeneralTransition;class ToPreviewTransition extends transition_1.Transition{constructor(e,t,n=null){super(e,t,n)}async Complete(){super.Complete()}}exports.ToPreviewTransition=ToPreviewTransition;class ToPrefabTransition extends transition_1.Transition{constructor(e,t,n=null){super(e,t,n)}async testCondition(){return this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.General||!!await this.fromState.checkToClose()&&(this.fromState.setCloseSceneWhenExit(),!0)}async Complete(){super.Complete(),this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.General&&(this.fromState.isHold=!0,await this.fromState.stagingSceneState())}}exports.ToPrefabTransition=ToPrefabTransition;