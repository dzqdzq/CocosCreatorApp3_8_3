"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const scene_proxy_1=__importDefault(require("./scene-proxy")),utils_1=__importDefault(require("../utils")),cc_1=require("cc"),index_1=__importDefault(require("../../preview-play/index"));class GameviewSceneProxy extends scene_proxy_1.default{get name(){return"gameview"}async open(e){return!1}async close(){return!0}async reload(){return!0}async softReload(e=null){try{this._sceneMgr.sendSceneCloseMsg(cc_1.director.getScene()),await utils_1.default.loadSceneByJson(e||index_1.default.startSceneJson);var r=cc_1.director.getScene();return this._sceneMgr.sendSceneOpenMsg(r,r.uuid,r),!0}catch(e){return console.error("Failed to refresh the current scene"),console.error(e),!1}}async staging(){return!0}async restore(e=0){return!1}queryCurrentSceneUuid(){var e;return(null==(e=cc_1.director.getScene())?void 0:e.uuid)||""}getRootNode(){return this._sceneMgr.rootNode}}exports.default=GameviewSceneProxy;