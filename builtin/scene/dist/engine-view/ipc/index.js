"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const methodsNeverRunInGameview={queryEffect:!0,queryMaterial:!0,queryAllEffects:!0,executeSceneScriptMethod:!0,querySceneSerializedData:!0,queryLayerBuiltin:!0,queryClasses:!0,querySceneDirty:!0,queryComponents:!0,queryComponentHasScript:!0,previewMaterial:!0,assetChange:!0,assetDelete:!0,assetRefresh:!0,registerEffects:!0,removeEffects:!0,updateEffect:!0,setCurEditTime:!0,changeClipState:!0,setEditClip:!0,queryCurrentAnimationState:!0,queryCurrentAnimationInfo:!0,queryAnimationRootNode:!0,queryAnimationRootInfo:!0,queryAnimationClipDump:!0,changeSceneViewVisible:!0,investigatePackerDriver:!0};class ViewIpcManager{constructor(e){this._previewIpcEnabled=!1,this._previewIpc=null,this._sceneIpc=e}get isReady(){return this._sceneIpc.isReady}async send(e,...t){var i;return this._isSendToPreview(e,null==(i=t[0])?void 0:i.handler)?null==(i=this._previewIpc)?void 0:i.send(e,...t):this._sceneIpc.send(e,...t)}setReady(e){this._sceneIpc.setReady(e)}setPreviewIpcEnabled(e){this._previewIpcEnabled=e}setPreviewIpc(e){this._previewIpc=e}_isSendToPreview(e,t=""){return this._previewIpcEnabled&&"call-method"===e&&!methodsNeverRunInGameview[t]}}exports.default=ViewIpcManager;