System.register(["./ui.js","./main.js"],function(e,i){"use strict";var s,c,a=this&&this.__awaiter||function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},u=this&&this.__generator||function(r,o){var i,s,c,a={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},u={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;a=u&&t[u=0]?0:a;)try{if(i=1,s&&(c=2&t[0]?s.return:t[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,t[1])).done)return c;switch(s=0,(t=c?[2&t[0],c.value]:t)[0]){case 0:case 1:c=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,s=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(c=0<(c=a.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3]))a.label=t[1];else if(6===t[0]&&a.label<c[1])a.label=c[1],c=t;else{if(!(c&&a.label<c[2])){c[2]&&a.ops.pop(),a.trys.pop();continue}a.label=c[2],a.ops.push(t)}}t=o.call(r,a)}catch(e){t=[6,e],s=0}finally{i=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};i&&i.id;return e("bootstrap",function(n){return a(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,function(o){return a(this,void 0,void 0,function(){var r,t,n;return u(this,function(e){switch(e.label){case 0:return[4,function(){return a(this,void 0,void 0,function(){var t,n;return u(this,function(e){switch(e.label){case 0:return t=window.location.search.substr(1).split("&"),[4,i.import("/socket.io/socket.io.js")];case 1:return n=e.sent(),n=n.default(),-1===t.indexOf("autoReload=false")&&(n.on("browser:reload",function(){window.location.reload()}),n.on("browser:close",function(){window.close()}),n.on("browser:disconnect",function(){window.location.reload()})),[2,n]}})})}()];case 1:r=e.sent(),t=new s.Ui({devices:o.devices,emit:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.emit.apply(r,l([e],t,!1))}}),e.label=2;case 2:return e.trys.push([2,5,,6]),[4,System.import("cc")];case 3:return n=e.sent(),t.bindEngine(n),[4,c.main(t,o)];case 4:return e.sent(),[3,6];case 5:return n=e.sent(),console.error(n),[3,6];case 6:return[2]}})})}(n)];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})}),{setters:[function(e){s=e},function(e){c=e}],execute:function(){}}});