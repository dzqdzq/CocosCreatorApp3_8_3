"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const dumpEncode=cce.Dump.encode,DumpDecode=cce.Dump.decode;class EditStateComponent{async change(o,e){for(const t of Object.keys(e))await DumpDecode.decodePatch(t,e[t],o)}encode(t){const c=t.constructor;if(!c.__props__)return null;const r={};return c.__props__.forEach(e=>{try{var o;void 0!==t[e]&&(o=cc.Class.attr(c,e),r[e]=dumpEncode.encodeObject(t[e],o,t),this.modifyProp(r[e],e))}catch(o){console.warn(`Component property dump failed:
 Component: ${t.constructor.name}
 Property: `+e),console.warn(o)}}),r}reset(c){const r=c.constructor;r.__props__&&r.__props__.forEach(o=>{try{var e=cc.Class.attr(r,o);if(e&&cc.Class._isCCClass(e.ctor)&&null===c[o]&&(c[o]=new e.ctor),Array.isArray(c[o]))for(const t of c[o])this.reset(t)}catch(o){console.warn(o)}})}modifyProp(o,e){if(o.name=e,o.value&&"object"==typeof o.value)for(const t in o.value)"object"==typeof o.value[t]&&this.modifyProp(o.value[t],t)}}exports.default=new EditStateComponent;