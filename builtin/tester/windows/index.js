"use strict";const ipc=require("@base/electron-base-ipc"),mouse=require("./mouse"),board=require("./board"),element=require("./element");async function messageListener(e,a,t,s,...r){let i=element.query(a,t),n=null;switch(s){case"length":n=i.length;break;case"attr":void 0!==i.length&&(i=i[0]),n=i.getAttribute(r[0]),void 0!==r[1]&&i.setAttribute(r[0],r[1]);break;case"data":void 0!==i.length&&(i=i[0]),n=i[r[0]],void 0!==r[1]&&(i[r[0]]=r[1]);break;case"click":await mouse.click(i,...r);break;case"mousedown":await mouse.mouseDown(i,...r);break;case"input":await board.input(i,r[0]||"");break;case"enter":await board.enter(i);break;case"esc":await board.esc(i)}e.reply(null,n)}exports.load=function(){ipc.on("package-tester:message",messageListener)},exports.unload=function(){ipc.removeListener("package-tester:message",messageListener)};