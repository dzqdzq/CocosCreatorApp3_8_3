"use strict";const codeMap={Enter:"Enter",Escape:"Escape"},keyCodeMap={Enter:13,Escape:27};function wait(t){return new Promise(e=>{setTimeout(()=>{e()},t||200)})}exports.keydown=async function(e,t){void 0!==e.length&&(e=e[0]);var t=new KeyboardEvent("",{bubbles:!0,cancelable:!0,code:codeMap[t]||"Key"+t.toLocaleUpperCase(),composed:!0,eventPhase:2,isTrusted:!0,key:codeMap[t]||t,keyCode:keyCodeMap[t]||t.charCodeAt(0),which:keyCodeMap[t]||t.charCodeAt(0)});t.initEvent("keydown",!0,!0),e.dispatchEvent(t),e.tagName.startsWith("UI-")&&((t=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),e.dispatchEvent(t)),await wait(20)},exports.keypress=async function(e,t){void 0!==e.length&&(e=e[0]);t=new KeyboardEvent("",{bubbles:!0,cancelable:!0,code:codeMap[t]||"Key"+t.toLocaleUpperCase(),composed:!0,eventPhase:2,isTrusted:!0,key:codeMap[t]||t,keyCode:keyCodeMap[t]||t.charCodeAt(0),which:keyCodeMap[t]||t.charCodeAt(0)});t.initEvent("keypress",!0,!0),e.dispatchEvent(t),await wait(20)},exports.keyup=async function(e,t){void 0!==e.length&&(e=e[0]);var t=new KeyboardEvent("",{bubbles:!0,cancelable:!0,code:codeMap[t]||"Key"+t.toLocaleUpperCase(),composed:!0,eventPhase:2,isTrusted:!0,key:codeMap[t]||t,keyCode:keyCodeMap[t]||t.charCodeAt(0),which:keyCodeMap[t]||t.charCodeAt(0)});t.initEvent("keyup",!0,!0),e.dispatchEvent(t),e.tagName.startsWith("UI-")&&((t=document.createEvent("HTMLEvents")).initEvent("confirm",!0,!0),e.dispatchEvent(t)),await wait(20)},exports.input=async function(t,a){void 0!==t.length&&(t=t[0]);for(let e=0;e<a.length;e++)await exports.keydown(t,a[e]),await exports.keypress(t,a[e]),t.value+=a[e],await exports.keyup(t,a[e]);await wait(200)},exports.enter=async function(e){void 0!==e.length&&(e=e[0]),exports.keydown(e,"Enter"),exports.keyup(e,"Enter"),await wait(200)},exports.esc=async function(e){void 0!==e.length&&(e=e[0]),exports.keydown(e,"Escape"),exports.keyup(e,"Escape"),await wait(200)};